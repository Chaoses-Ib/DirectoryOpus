# 过滤条款类型

每个条款都具有指定该条款匹配的候选项文件属性的类型。条款类型从下拉列表中选择。从同一下拉列表中选择*子条款*可创建子条款，但此处并未描述子条款，而是在 [Defining a Filter](defining_a_filter.zh.md) 页面中描述。

适用于所有文件和文件夹类型的条款类型有很多。

##### 属性

允许您根据文件属性进行匹配。

![](/Manual/images/media/13/filter_-_attributes.png)

- 条款匹配时 **打开** 属性必须处于打开（设置）状态
- 条款匹配时 **关闭** 属性必须处于关闭（未设置）状态

在上面的示例中，只有当文件的 **R** 属性处于设置状态且 **E** 和 **C** 属性未设置时，条款才会匹配。支持的属性有：

<table>
<thead>
<tr class="header">
<th>字母</th>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>R</td>
<td>只读</td>
<td>文件通常不能被覆盖或删除。例如，如果您设置一个<strong>.txt </strong>文件为只读，然后尝试在记事本中编辑它，记事本将无法保存到现有文件中。只读文件仍可以像往常一样删除到回收站。</td>
</tr>
<tr class="even">
<td>A</td>
<td>压缩包</td>
<td>通常表明需要压缩包文件。通常在保存或编辑文件时自动设置<strong>A</strong>属性，备份工具可用此属性来判断需要备份哪个文件（并在完成备份后自动清除该属性）。</td>
</tr>
<tr class="odd">
<td>H</td>
<td>隐藏</td>
<td>标记文件为“隐藏”。当一个文件被设置为隐藏时，其图标将会淡化，但文件本身并不一定从显示中隐藏。您可以通过<a href="/preferences/preferences_categories/filtering_and_sorting/global_filters">全局过滤器</a>配置页面中的<strong>全局隐藏过滤器</strong>选项来设置 Opus 是否显示隐藏文件和文件夹。使用<a href="/basic_concepts/folder_options/folder_formats">文件夹格式</a>系统还可以在每个文件夹的基础上控制隐藏文件的显示。</td>
</tr>
<tr class="even">
<td>S</td>
<td>系统</td>
<td>通常与<strong>H</strong>属性结合使用，用来标记“属于”操作系统的文件和文件夹。默认情况下，标记为<strong>H+S</strong>的文件从显示中隐藏，但您可以通过关闭<a href="/preferences/preferences_categories/filtering_and_sorting/global_filters">全局过滤器</a>配置页面上的<strong>隐藏操作系统文件</strong>选项来启用这些项的显示。</td>
</tr>
<tr class="odd">
<td>E</td>
<td>加密</td>
<td>文件已加密。只有 NTFS 支持文件加密——FAT/FAT32 格式化磁盘不提供此功能。<br />
<br />
文件加密后，只有与该文件相关联的用户才能对其进行解密——例如，如果您的笔记本电脑被盗，小偷可能有权访问硬盘驱动器上的文件，但在没有登录密码的情况下无法解密数据。<br />
<br />
如果一个文件夹被设置为加密，那么在该文件夹中创建的所有新文件默认都会被加密。此选项与<strong>压缩</strong>选项互斥（您无法同时加密和压缩同一个文件）。</td>
</tr>
<tr class="even">
<td>C</td>
<td>压缩</td>
<td>文件已压缩。只有 NTFS 支持文件压缩——FAT/FAT32 格式化磁盘不提供此功能。<br />
<br />
如果一个文件夹被设置为压缩，那么在该文件夹中创建的所有新文件默认都会被压缩。此选项与<strong>加密</strong>选项互斥（您无法同时压缩和加密同一个文件）。</td>
</tr>
<tr class="odd">
<td>O</td>
<td>脱机</td>
<td>表明文件为“脱机”——即它位于网络或其他计算机上，只有在您尝试访问它时才会被复制到您的计算机上。云存储服务（如 Microsoft OneDrive）最常使用此功能。</td>
</tr>
<tr class="even">
<td>I</td>
<td>非索引</td>
<td>文件的内容不会被系统编入索引（用于搜索），只有它的名称和其他元数据。</td>
</tr>
<tr class="odd">
<td>P</td>
<td>固定</td>
<td>文件被“固定”——即标记为永久保存在此计算机上，而不是移动到脱机存储。云存储服务（如 Microsoft OneDrive）最常使用此功能。</td>
</tr>
</tbody>
</table>

##### 可用性

允许您根据文件的脱机状态（对于云存储）进行匹配。

##### 包含

在文件内搜索提供的文本字符串。

![](/Manual/images/media/13/filter_-_contains.png)

系统将搜索文件的内容以查看它们是否包含指定的字符串。此功能适用于文本文件和其他文件（例如，系统已安装 [IFilter](https://en.wikipedia.org/wiki/IFilter) 的 Word 文档、PDF）。

由于搜索文件可能是一项耗时的操作，因此**包含**条款被“延迟”，并在文件匹配过滤器之前作为最后一步处理。

影响搜索的选项包括：                                             

- **使用通配符**: 允许您使用 [标准模式匹配](/Manual/reference/wildcard_reference/pattern_matching_syntax.zh.md) 指定搜索模式。
- **使用正则表达式**: 允许您使用 [正则表达式](../renaming_files/advanced_rename/rename_modes/regular_expressions.zh.md) 指定搜索模式。
- **匹配任意单词**: 激活“任意单词”模式，其作用类似于搜索引擎。如果输入的单词中包含文件，则文件将匹配。您可以在单词前加 `+`，表示它**必须**存在，并加 `-`，表示它**不能**存在。
- **默认 UTF-8 无 BOM**: 告诉 Opus 假设不带字节顺序标记 (BOM) 的纯文本文件编码为 UTF8 而不是计算机的默认 8 位字符集。
- **区分大小写**: 使搜索区分大小写（大写和小写字母不会视为相同）。
- **部分匹配**: 如果此项已打开，您输入的单词只需要匹配单词的一部分即可视为匹配。例如，搜索“quint”将匹配“quintuplet”。
- **忽略变音符号**: 忽略变音符号（带重音符号的字符）。

##### 日期

比较文件的时间戳，但只查看日期，而不是时间。

影响**日期**比较的参数包括：                                             

- 时间戳：从“修改”（上次修改日期）、“创建”（创建日期）和“访问”（上次访问日期）中选择。
- 比较类型：从“之后”、“之前”、“介于”和“之内”中选择。
- 比较日期：输入要比较的实际日期。对于“之后”和“之前”，这是一个单一日期。对于“介于”，这是两个日期（形成日期必须落在其中的范围），而对于“之内”，这是一个以当前日期为基准的相对日期，以天、月、周或年为单位。

##### 日期/时间

比较文件的时间戳，同时比较日期和时间。
这类似于**日期**，只不过同时比较时间和日期部分 - 指定一个日期和时间进行比较。对于**日期/时间**子句，*在之内* 并不是可用的比较类型。

##### 描述

比较文件描述（如果有分配）。搜索选项与**包含**子句相同（**假定 UTF-8** 选项除外）。

##### 文件

允许根据应用于诸如 Office 或 PDF 文档等文件的各种文档字段进行过滤。

下拉菜单允许从要比较的各种文档字段中进行选择：

- **任何字段**：在任何基于文本的文档字段中搜索指定字符串。
- **作者**：文档作者。
- **类别**：文档类别（如果已分配）。
- **评论**：存储在文档中的任何评论。
- **公司**：文档中的公司字段。
- **版权**：版权字段。
- **创建者**：创建文档的人（不一定与作者相同）。
- **文档创建日期**：创建文档的日期。可以指定一个日期，并选择*之前*、*之后*或*在*比较。
- **最后编辑时间**：文档上次编辑的日期。
- **上次保存者**：上次保存文档的人。
- **上次保存日期**：上次保存文档的日期。
- **页面**：文档中的页面数。可以指定页面数，并选择*大于*、*小于*或*等于*比较。
- **制作者**：制作者字段。
- **主题**：文档主题。
- **标题**：文档标题。

对于选择字符串参数进行比较的文档字段（其中大部分字段），支持使用 [标准通配符](/Manual/reference/wildcard_reference/pattern_matching_syntax.zh.md) 进行搜索。

##### 过滤器

这允许引用另一个预配置过滤器（在 [过滤器](/Manual/preferences/preferences_categories/filtering_and_sorting/filters.zh.md) 页面中的配置中列出）。例如，可以创建一个标准过滤器，用来排除某些永远不想处理的类型的文件，然后在之后创建的其他更具体的过滤器中引用它。引用另一个过滤器可以节省必须重复所有这些过滤器参数的操作，而且稍后对引用的过滤器所做的任何更改都将自动生效它使用的任何过滤器。

##### 完整路径

这允许使用其完整路径名（包括自己的文件名）匹配文件或文件夹。

例如，`C:\Data\Pictures\*\*.jpg` 将匹配位于 *C:\Data\Pictures* 目录的任何子文件夹中、以 **.jpg** 结尾的任何文件。

通配符在完整路径子句中应用于整个字符串，而不是应用于各个路径组件。

##### 图像

允许根据各种与图像相关的字段进行过滤。支持所有识别的图像格式。

下拉菜单允许从可以进行比较的不同字段中进行选择：

- **光圈**：拍摄图像时所用镜头的光圈（作为 F 档值）。
- **艺术家**：图像元数据中的“艺术家”文本字段。
- **纵横比**：图像的纵横比（作为小数 - 例如 1.78 大概为 1920:1080）。
- **位深度**：图像的位深度。
- **相机品牌**：拍摄图像的相机制造商。
- **相机型号**：拍摄图像的相机型号。
- **色彩模式**：图像的色彩模式（*灰度图*、*RGB*、*CMYK*、*YCCK* 或 *YUV*）。
- **对比度**：记录图像时的对比度设置（*硬*、*正常* 或 *软*）。
- **版权**：图像中的版权信息（如果有）。
- **创建软件**：用于创建图像的软件。
- **数字化日期**：将图像数字化的日期。有时这与**拍摄日期**相同，但如果图像最初以非数字图像形式拍摄，则可能不同。
- **拍摄日期**：记录图像的日期（又称拍摄时间）。可以指定一个日期，并选择 *在*、*之后* 或 *之前* 作为比较。
- **数字变焦**：用于记录图像的数字变焦率（如果有）。可以指定一个倍率，并选择 *等于*、*大于* 或 *小于* 作为比较。
- **尺寸**：图像尺寸。这允许从几个常见图像大小的下拉菜单中进行选择。如果想要更多控制，可以使用**宽度**和**高度**字段。
- **曝光补偿**：记录图像时相机的曝光补偿设置，以 *档* 为单位。
- **曝光程序**：用于记录图像的曝光程序（光圈优先、快门优先、动作、风景等）。
- **曝光时间**：用于记录图像的曝光时间，以秒或几分之一秒为单位。可以将时间输入为整数、分数（例如 **1/5**）或小数（例如 **1.8**）。
- **F 值**：用于记录图像的 f 值（光圈设置），以 *档* 为单位。
- **闪光灯**：拍摄图像时闪光灯是否闪光，如果是，则使用了哪种模式。
- **焦距**：记录图像时镜头的焦距，以毫米为单位。这是镜头的绝对焦距。
- **焦距（35 毫米）**：镜头的焦距作为 35 毫米等效值（例如，焦距为 6 毫米的数码相机可能相当于 35 毫米胶片相机上的焦距为 28 毫米的镜头）。
- **高度**：图像的高度，以像素为单位。可以将 *等于*、*大于* 或 *小于* 作为比较。
- **图像描述**：
- **ISO 速度**：拍摄图像时的（等效）胶片速度，使用 ISO 标尺表达。
- **镜头品牌**：拍摄图像的镜头的制造商。
- **镜头型号**：拍摄图像的镜头的型号。
- **测光模式**：拍摄图像时使用的曝光测光模式（平均、点测、多点测光等）。
- **分辨率 (X)**：图像的水平（X）分辨率，以每英寸点数 (dpi) 为单位。
- **分辨率 (Y)**：图像的垂直（Y）分辨率，以 dpi 为单位。
- **旋转**：存储在图像中的旋转信息，通常来自相机的方向传感器。这反映了记录图像时相机的方向。在 0、90、180 和 270 度中进行选择。
- **饱和度**：图像的饱和度（*正常*、*高* 或 *低*）。
- **场景捕捉类型**：相机使用的场景捕捉程序类型（标准、夜景、人像等）。
- **清晰度**：图像的清晰度（*正常*、*硬* 或 *软*）。
- **快门速度**：拍摄图像时快门的速度，以秒或几分之一秒为单位。可以将时间输入为整数、分数（例如 **1/5**）或小数（例如 **1.8**）。 
- **特殊说明**：图像元数据中的通用文本字段。
- **主题**：图像元数据中的通用文本字段。
- **主体距离**：从焦点到主体之间的距离，以米或米的几分之一表示。可以将距离输入为整数、分数或小数。例如，**0.2** 将对应于 20 厘米。
- **标题**：图像元数据中的“标题”文本字段。
- **白平衡**：相机的白平衡设置。
- **宽度**：以像素为单位的图像宽度。可以使用“等于”、“大于”或“小于”进行比较。

要与字符串参数进行比较的图像字段（例如，**相机制造**或**型号**）支持使用标准通配符（/Manual/reference/wildcard_reference/pattern_matching_syntax.zh.md）进行搜索。

##### 标记

根据文件所属的 [标记](../labels.zh.md)（如果有）进行匹配。

下拉控件将显示已 [配置的标记](/Manual/file_operations/labels.zh.md) 的列表供您选择，或者您可以输入模式以通过通配符匹配标记名称。

##### 位置

这类似于 **完整路径**，但仅考虑文件的路径（位置），不考虑文件名。它在搜索 [文件集合](/Manual/basic_concepts/virtual_file_system/file_collections/README.zh.md) 时特别有用，因为它允许您根据文件在磁盘上的实际位置对其进行过滤。

##### 音乐

允许您过滤各种与音乐相关的字段。支持所有识别的音乐格式。

使用下拉列表选择可进行比较的不同字段：

- **专辑**：专辑的标题。
- **专辑艺术家**：专辑的艺术家。
- **任何字段**：将指定文本与所有基于文本的音乐字段进行比较。
- **艺术家**：专辑（或音轨）的艺术家。
- **自动比特率**：音乐被数字化的比特率，以比特/秒 (bps) 指定。
- **BPM**：音轨的每分钟节拍设置（如果有）。
- **编解码器**：用于对音乐文件进行编码的编解码器。
- **评论**：分配给音乐文件的任何评论。
- **作曲者**：音轨的作曲者。
- **指挥者**：音轨的指挥者。
- **光盘号**：光盘编号（对于多光盘专辑）。
- **编码者**：该字段用于编码音轨的人员姓名，或他们用于编码的软件应用程序的名称。
- **编码软件**：用于对音轨进行编码的软件应用程序的名称。
- **流派**：音乐流派。
- **初始音阶**：音乐的初始音阶。
- **受保护**：音乐是否有 DRM 保护（“是”或“否”）。
- **出版商**：音乐的出版商。
- **发布日期**：音乐（通常为实际录音）的发布日期。
- **采样率**：音乐被数字化的采样率，以赫兹 (Hz) 指定。
- **歌曲时长**：音乐的时长，表示为“小时：分钟：秒”。
- **标题**：音轨的标题。
- **音轨号**：专辑内的音轨号（如果有）。
- **年份**：音轨发布的年份。

与字符串参数进行比较的音乐字段（例如，**专辑**或**流派**）支持使用标准通配符（/Manual/reference/wildcard_reference/pattern_matching_syntax.zh.md）进行搜索。

##### 名称

将文件名称与指定的字符串进行比较。

**名称**子句的选项有：                                             

- **使用通配符**：允许使用 [标准模式匹配](/Manual/reference/wildcard_reference/pattern_matching_syntax.zh.md) 指定搜索模式。
- **使用正则表达式**：允许使用 [正则表达式](../renaming_files/advanced_rename/rename_modes/regular_expressions.zh.md) 指定搜索模式。
- **匹配任意字词**：激活“任意字词”模式，这有点像搜索引擎。只要输入的字词包含在文件内，该文件便能匹配。可以在字词前加上 `+` 前缀，表示**必须**包含该字词；加上 `-` 前缀，表示**不含**该字词。
- **区分大小写**：进行区分大小写的搜索（大小写字母不会被视为相同）。
- **部分匹配**：如果启用此选项，则输入的字词只需要与一整词的一部分匹配即可被视为匹配。例如，搜索“quint”可以匹配“quintuplet”。
- **忽略音调符号**：忽略音调符号（重音字符）。

##### 所有者

与文件的 [所有者](/Manual/reference/special_folders/special_folders.zh.md)进行匹配。此搜索启用 [标准通配符](/Manual/reference/wildcard_reference/pattern_matching_syntax.zh.md)；如果您没有指定任何通配符，搜索将自动执行部分匹配（因此“Fred”将自动匹配“Frederick”）。

##### 路径长度

允许您基于总路径长度（即完整文件路径中包括其名称在内的字符数）搜索文件或文件夹。这对于识别其路径长度超过正常 Windows 260 个字符路径长度限制的文件很有用。

##### 评级

匹配分配给文件或文件夹的评级（如果有）。您可以使用 **[元数据面板](/Manual/basic_concepts/the_lister/metadata_pane.zh.md)** 来评级您的文件。

##### 脚本列

使用 [脚本加载项](/Manual/scripting/example_scripts/adding_a_new_column.zh.md) 生成的 [列](/Manual/basic_concepts/the_lister/columns.zh.md) 测试文件或文件夹。

详细信息取决于脚本添加的列的类型，但通常会与其他子句类型类似。

使用脚本列进行过滤允许您根据脚本可以表达的任何内容，以任意方式扩展 Opus 过滤功能。某些脚本加载项提供更适合用于过滤而不是显示的列，尽管两者之间没有技术差异。典型的用途是根据文件夹中包含的文件对文件夹进行过滤，通过编写一个脚本列来查看每个文件夹并使用“是”和“否”值（或类似值）填充一个列，以指示是否应匹配该文件夹。

##### Shell 列

匹配第三方 shell 扩展处理程序添加的任何列的值。

下拉列表将提供可用列的列表，您可以使用 [标准模式匹配](/Manual/reference/wildcard_reference/pattern_matching_syntax.zh.md) 与所选列的值进行匹配。对于数字列，可以使用以下运算符进行有限的数字比较：

|      |                      |
|------|----------------------|
| !=   | 不等于            |
| ==   | 等于               |
| \<   | 小于             |
| \>   | 大于               |
| \<=  | 小于或等于     |
| \>=  | 大于或等于         |
| &&   | 与                  |
| \|\| | 或                   |

##### 大小

比较文件的大小。

影响 **大小** 比较的参数有：                                             

* **比较类型**：从 //等于//、//大于或等于//、//大于//、//小于或等于// 和 //小于// 中选择。
* **比较大小**：输入要与之进行比较的实际大小值。
* **比较单位**：指定比较大小指定的单位。从 //字节//、//KB//（千字节）、//MB//（兆字节）和 //GB//（千兆字节）中选择。搜索引擎在与字节以外的单位进行比较时会自动舍入文件大小；例如，1158 字节的文件将匹配指定 **等于 1 KB** 的子句。

**大小** 子句还可用于比较文件夹的大小。由于计算文件夹的大小可能很耗时，因此必须同时包含指定 *文件夹* 的 **类型** 子句来明确启用此行为。例如，以下两个子句将匹配所有空文件夹：
![](/Manual/images/media/13/filter_-_empty_dirs.png)

##### 子文件夹

这是一种特殊类型的子句，用来控制递归操作要深入其中的文件夹。当 Opus 在操作过程中（例如，复制包含多个嵌套子文件夹的文件夹时）遇到它通常会进入的子文件夹时，它会对照 **子文件夹** 子句测试每个子文件夹。如果测试失败，则操作会完全跳过该子文件夹及其所有内容。

![](/Manual/images/media/13/filter_-_subclause.png)

在上述示例中，使用该过滤器的 **复制文件** 操作会跳过所有名为 **.svn** 的目录（以及它们的所有内容），无论在文件夹树的什么位置遇到它们。**子文件夹** 子句对过滤器匹配的文件没有影响；它们仅控制进入哪些子文件夹。

只有 **子文件夹** 子句才能阻止 Opus 递归进入目录。如果 **子文件夹** 子句与文件夹不匹配，则 Opus 会跳过该文件夹及其所有子项，即使其中一些子项可能与过滤器匹配。

另一方面，借助 **完整路径** 和 **位置** 子句，Opus 仍会检查某个文件夹的子项，即使文件夹本身与过滤器不匹配。这两种方法都很实用，具体取决于你想要做什么。如果你想忽略某个文件夹下面的所有内容，则通常最好使用 **子文件夹** 子句，因为它可以避免不必要地检查文件夹的子项。有关一些示例，请参阅 Opus 论坛/常见问题解答帖子：[如何按位置或子文件夹过滤项目](https://resource.dopus.com/t/how-to-filter-items-by-location-or-sub-folder/7644)。

*注意：子文件夹子句不适用于 [同步](../copying_moving_and_deleting_files/copying_updated_files/synchronize.zh.md) 工具。*

##### 标记

比较文件分配的任何标记。[标准通配符](/Manual/reference/wildcard_reference/pattern_matching_syntax.zh.md) 适用于此搜索；如果你未指定任何通配符，则搜索会自动执行部分匹配（因此“account”会自动匹配“accounting”）。你输入的字符串与分别分配给文件的全部标记进行比较，因此如果你想匹配两个特定的标记，则需要使用两个独立的 **标记** 子句。

##### 目标

如果文件是连接点、快捷方式或链接，则 **目标** 子句允许你根据它指向的内容（快捷方式目标的路径）来进行匹配。

例如，`C:\Program Files\*\*.exe` 会匹配指向任意 .exe（应用程序文件）的快捷方式，这些 .exe 位于 *C:\Program Files* 文件夹下方。

你可以从以下选项中进行选择：

- **使用通配符**：允许你使用 [标准模式匹配](/Manual/reference/wildcard_reference/pattern_matching_syntax.zh.md) 指定搜索模式。
- **使用正则表达式**：允许你使用 [正则表达式](../renaming_files/advanced_rename/rename_modes/regular_expressions.zh.md) 指定搜索模式。
- **匹配任意单词**：激活“任意单词”模式，该模式的工作原理类似于搜索引擎。如果文件包含你输入的任意单词，它便会匹配。你可以在单词前加上 `+`，这意味着该单词**必须**出现，加上 `-`，这意味着该单词**不能**出现。
- **区分大小写**：使搜索区分大小写（不会将大写和小写字母视为相同）。
- **部分匹配**：如果启用这项功能，你输入的单词只需与某个单词部分匹配，即会被视为匹配。例如，搜索“quint”会匹配“quintuplet”。
- **忽略变音符号**：忽略变音符号（带重音的字符）。
- **文件**：仅匹配指向文件的快捷方式。
- **文件夹**：仅匹配指向文件夹的快捷方式。

##### 时间

类似于 **日期** 子句，它比较文件的 时间戳，但仅查看时间部分，而非日期。

影响 **时间** 比较的参数包括：

 *       哪个时间戳：从 //修改日期//（上次修改日期）、//创建日期//（创建日期）和 //访问日期//（上次访问日期）中进行选择。  
 *       比较类型：从 //之后//、//之前//、//介于// 和 //之内// 中进行选择。  
 *       比较时间：输入实际时间以进行比较。对于 //之后// 和 //之前//，这是一个单独的时间。对于 //介于//，这是一个时间范围（该时间必须落在此范围内），而对于 //之内//，这是一个相对时间，从当前时间的几小时、几分钟或几秒钟开始。//之内// 比较的时间相对于 //现在// - 即当使用过滤器时的当前时间为 15:35，且子句指定 **1 小时内** 时，任何日期为当前日期且介于 14:35 和 15:35 之间的内容都将匹配，但昨天 15:10 的文件不会匹配。

##### 类型

这允许你按文件类型匹配文件。

第一个下拉菜单允许你选择按类型匹配的方式：

- **文件类型**：匹配单个文件类型。第二个下拉菜单允许你从所有已注册文件类型的列表中进行选择。因此，你可以指定 **类型匹配文件类型位图图像**，而不必使用 **名称匹配 \*.bmp** 子句。
- **文件类型组**：匹配属于指定组的任何文件。第二个下拉菜单允许你从组列表中进行选择。
- **文件**：匹配所有文件，但不是文件夹。
- **文件夹**：匹配所有文件夹，但不是文件。
- **连接点和链接**：匹配快捷方式、文件夹连接点以及硬链接或软链接。你可以将此与 **目标** 子句结合使用，例如，搜索指向特定文件夹或文件的快捷方式。