# 自解压 Zip 文件

Opus 允许您将 Zip 压缩包转换为自解压压缩包。这会将压缩包文件（需要另一个程序才能解压缩）转换为可发送给其他人的可执行程序。当他们运行该程序时，一个易于使用的界面将指导他们提取压缩包的内容。

现在，Windows 自带对 Zip 文件的内置支持，自解压压缩包不如以前广泛使用，但仍有一些用途。

要创建一个自解压压缩包，您必须首先 [创建源 Zip 压缩包]()。您可以使用**[添加到压缩包](../add_to_archive_dialog/README.zh.md)** 对话框创建 Zip 压缩包，并一步将其转换为自解压格式，或者您可以创建压缩包，然后使用 Opus 自动添加到 **.zip** 文件上下文菜单的上下文菜单命令单独进行转换。

可以使用 [压缩包上下文菜单](/Manual/preferences/preferences_categories/zip_and_other_archives/archive_context_menu.zh.md) 偏好设置页面来禁用此上下文菜单，所以如果您在右键单击 Zip 文件时看不到，则可能需要前去将其打开。

##### 自解压压缩包选项

**创建自解压压缩包** 对话框提供一些选项，用于控制最终的自解压压缩包：

- **从：**显示您正在转换的 Zip 压缩包的名称。
- **到：**指定转换过程将创建的 **.exe** 文件的路径。默认情况下为源压缩包的相同位置和名称，但后缀为 **.exe** 而不是 **.zip**。
- **名称：**这允许您配置在运行自解压程序时显示在自解压程序标题栏中的名称。
- **自定义说明：**选择一个外部文本文件 (*.txt) 以提供说明或消息，这些说明或消息将在运行自解压程序时显示。如果您未提供文件，则将显示默认说明。
- **自定义图像：**选择在自解压程序窗口左侧显示的外部图像文件。如果您未选择此选项，则将使用标准图像。如果您打开此选项但未选择图像文件，则根本不会使用图像，这样可以稍微减小最终 **.exe** 文件的大小。
- **提取的默认路径：**这允许您指定一个位置，该位置将用作在运行自解压程序时提取压缩包中文件的默认路径。最终用户仍将能够修改目标路径；这仅仅是一个默认值。
- **提取后自动运行：**如果您的压缩包包含任何可执行程序，您可以从下拉列表中选择一个文件，以便在提取压缩包后自动运行该文件。对于开发人员来说，您可以使用此功能来创建一个简单的“安装程序”，该安装程序将提取多个文件，然后运行包含的 Setup.exe 类型程序来执行实际安装。

选定参数后，单击 **确定** 按钮以执行实际的转换过程。您应该会得到一个比原始 Zip 压缩包大一些的 **.exe** 文件。

##### 自解压程序

当其他人运行您的自解压压缩包时，他们将看到类似于此的窗口：

![](/Manual/images/media/13/sfx.png)

您可以通过此窗口推断出我们在创建自解压程序时设置的参数：

- 窗口左侧的图像为默认图像 - 在创建自解压程序时，我们未为 **自定义图像** 指定任何内容。
- 显示的文本是指定 **自定义说明** 文件的结果。
- 我们未指定用于提取的 **默认路径**，因此默认做法是提取到临时文件夹。
- 我们还未指定 **提取后自动运行** 文件，因此已禁用此选项。

**打开文件夹以查看文件** 选项由用户控制；如果他们选择，则将自动打开一个窗口（来自其默认文件夹浏览器）以显示提取的压缩包的内容。

提取功能会自动处理 UAC。如果用户选择将内容提取到受 UAC 保护的位置（例如 **C:\Program Files**），系统将要求其提升权限以批准该操作。