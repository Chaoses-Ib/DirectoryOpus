# 跟踪和撤销文件操作

Opus 中有两个功能可以帮助您跟踪对文件和文件夹所做的更改。

### 撤销

**撤销** 命令（通常）可用于撤销最近的操作。大多数操作都可以撤消 - 例如，如果您使用通配符错误地重命名了一组文件，您可以非常容易地撤消重命名。但是，除非删除已移至回收站，否则无法撤消文件删除。您可以在文件窗口中的 **编辑** 菜单中找到 **撤销** 命令（或按 <kbd>Ctrl+Z</kbd>）。

![](/Manual/images/media/13/undo_history.png) 

Opus 维护可撤消功能的历史记录。在 **撤销列表** 子菜单中，您可以查看最近 10 个操作，并通过从列表中选择它们撤消任何操作。从该子菜单中选择 **更多...** 命令会显示 [实用程序面板](/Manual/basic_concepts/the_lister/utility_panel.zh.md)，其中显示了 **撤销日志** 页面。此页面显示了一个可撤消操作的完整列表，您可以在此页面中单击按钮撤消一个、多个或所有操作。

### 文件日志

虽然撤销日志只显示当前会话中最新的可撤消操作，但文件日志**会永久记录所有文件操作（可撤消或不可撤消的）。您可以从 [实用程序面板](/Manual/basic_concepts/the_lister/utility_panel.zh.md) 访问 **文件日志**，或直接从 **帮助** 菜单中选择命令。

默认情况下，文件日志会记录最近的 1000 个文件操作。您可以查看发生的时间、所涉及的文件、发生的时间以及在复制或移动的情况下，还可以查看目标文件夹操作的类型。

![](/Manual/images/media/13/file_log_example.png)

文件日志在某些时候可能是非常有用的 - 当您发现之前存在的某个文件神秘消失时，通常可以通过日志找出它发生了什么。您可以使用过滤字段按名称或路径搜索文件。

日志顶部的 **保存** 按钮可让您将日志导出为文本文件 - 当它很大且您想要在文本编辑器中搜索它时非常有用。您可以在 Preferences 中的 **[文件操作 / 记录](/Manual/preferences/preferences_categories/file_operations/logging.zh.md)** 页面配置日志的最大大小并控制记录哪些操作。