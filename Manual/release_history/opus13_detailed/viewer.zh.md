# Directory Opus 13 - 详细发行说明

# 查看器

- 关联文件窗口：
  - 查看器的新模式，用作已分离的查看器窗格。
  - 独立查看器和查看器窗格的混合。你可以移动或在其它显示器上全屏显示的独立窗口，它会跟踪打开它的列表中文件的选取。
  - 打开关联文件窗口：
    - （注意：你可能需要更新或重置工具栏才能获得新功能。）
    - 右键单击列表的右上角附近的“查看器窗格”按钮。
    - “幻灯片放映” > “打开关联查看器”也可以执行相同操作。
    - 如果查看器是通过列表打开的，查看器工具栏会有“关联到列表”按钮来切换关联。
    - 正常的打开方式打开的查看器在之后可以关联，只要来自它们的列表仍然存在。
    - 如果“重复使用现有查看器窗口”已打开，将新文件从另一个列表发送到查看器将导致查看器链接到新列表并取消与旧列表的链接。
    - 关联文件窗口会单独记住它们的位置，并拥有不同的选项用于调整大小：
      - 允许你在第二显示器上全屏显示它们，而不会影响你普通的查看器。
      - 窗口位置和调整大小设置根据查看器打开时的状态来确定。在查看器打开之后关联或取消关联不会更改它使用的设置。
    - 在“查看器配置中添加了“双向关联”选项（默认开启）：
      - 使列表和查看器保持同步，在两个方向上。
      - 当开启时，在关联文件窗口中更改图片时，列表会选择新文件并将其滚动到视图中。
      - 类似于旧的“选择查看器”脚本。
- 图像查看器：
  - （注意：你可能需要更新或重置图像查看器工具栏和上下文菜单才能获得新功能。）
  - 改进“展开/滚动图片”模式，尤其是在图片高度与屏幕相同或更大时。
  - “视图” > “背景颜色”子菜单添加了项目以快速将背景切换为黑色或白色。
    - 你还可以使用 <kbd>Shift+W</kbd> 和 <kbd>Shift+B</kbd> 快捷键作为两个选项的切换。
    - 或者，按 <kbd>F3</kbd> 在黑色和白色背景之间切换。
    - 在查看使用透明度的图片时非常有用，其中某些细节可能只能在深色或浅色背景下才能看到。
    - 查看器窗格的上下文菜单有类似的选项。
    - “文件” > “定位图像”子菜单，提供通过各种在线地图服务查找图像的 GPS 坐标的选项。（可以通过高级设置中的 image_locate_services 进行编辑。）
    - 通过 WIC 插件添加了查看 DDS（DirectDraw Surface）图像的基本支持。
    - 通过 WIC 插件添加了查看 AVIF（AV1 Image）图像的基本支持：
      - 需要 Microsoft 商店中的免费 AV1 编解码器。
      - 在 Windows 照片应用中打开一张 AVIF 图片，如果需要编解码器，它会链接到你相应的编解码器。
    - 添加了菜单项以在不进入配置的情况下在图片周围切换边框。
    - 添加了跳到其它显示器的查看器的命令：
      - 在工具栏右侧，仅在全屏显示时可见。（全屏时，单击顶部以显示工具栏。）
      - <kbd>Alt+←</kbd> 和 <kbd>Alt+→</kbd>，始终可用。
    - 在拖选图片的一部分（用于复制/裁切）时，你现在可以按住空格来移动选框，调整其起始点。
    - 添加了仅为第一张图片居中查看器窗口而不是每张图片的选项。
    - 独立查看器中标记图片的上下文菜单现在包括打开包含文件夹的选项。
    - 命令：
      - `Show LISTERLINK`
      - `Show VIEWERCMD=listerlink`
      - `Show VIEWERCMD=frame`
      - `Show VIEWERCMD=monitornext` 和 `Show VIEWERCMD=monitorprev`
      - `Show VIEWERCMD=backcol,#RRGGBB` 和类似的 Show VIEWPANECMD。省略颜色以重置为配置颜色。
      - `Show VIEWERCMD=delete,noadvance` -- 类似于现有的删除命令，但不会移到下一张图片。
      - `Show VIEWERCMD=delete,close` -- 类似于现有的删除命令，但会关闭查看器，即使有更多图片。
      - `Image LOCATE=menu` -- 在查看器中，显示一个 GPS 映射服务的菜单。如果当前文件没有 GPS 数据，则隐藏。
      - `Image LOCATE=menu,nohide` -- 当查看器的文件没有 GPS 数据时，这会禁用菜单项而不是隐藏它们。
      - 现在在目录的快捷方式上运行“显示”命令的工作方式与在真实目录上相同；目录中的任何图片都会添加到查看器的文件列表中。
- 网络 / HTML：
  - 查看器窗格中现在支持 Microsoft Edge（Chromium）。
  - 默认情况下，Edge 用于 HTML、MHT、SVG 和 URL 文件。
  - 如果未安装 PDF 预览处理程序，Edge 还会用于 PDF 文档，如果已禁用单独的 WebP 插件，Edge 还会用于 WebP 图片。
  - Internet资源管理器现在在查看器窗格中默认禁用。可以通过配置/“查看器”/“插件”重新启用，选择“元插件”，单击“配置”，然后启用“Internet资源管理器32 位”。
- 视频和音频：
  - 新的“视频和音频”插件取代了旧的“影片”插件。
  - 支持更新的 API 和编解码器类型。大多数视频应可在当前 Windows 版本上播放，无需额外的编解码器。
  - 仍可以回退到 DirectShow，这仍然对于更多晦涩的编解码器很重要。
  - 可以播放预览窗格中的音频文件，如果可用，会显示封面图。
  - 可以从预览窗格和独立查看器全屏显示。
  - 自动播放和自动静音选项。
  - 可以将鼠标按钮和滚轮配置为查找、暂停、全屏显示等。
  - 提供有关 MediaInfo 的元数据；在其它地方详细讨论。
- 其它：
  - 文本和 TextThumbs 插件现在默认假定 UTF-8，而不要求文件开头有 BOM。
  - 文本查看器现在会过滤掉一些已知的类型，这些类型看起来像文本，但作为缩略图会得到更好的处理。（例如，以“#？”开始的 .HDR 文件；所有 .DXF 文件。）
  - 十六进制查看器现在支持选择文件数据的一部分并将其复制到剪贴板。
  - 添加了查看器窗格的“在选择另一个文件之前将文件留在查看器中”。默认开启。如果关闭，取消选择已显示的文件或从源切换到目标，将清除查看器窗格。
  - 将“ActiveX + 预览 + Office + 网络”插件重命名为“元插件”。
  - 改进了“元插件”用户界面。简化了更改哪些扩展名转到哪些查看器的操作。
  - 使更多外部查看器组件打开临时副本而不是真实文件，因为 Microsoft 违反了他们自己的规则，即查看器锁定文件。（Windows RTF 和 Windows Mail MIME 电子邮件。）
  - 添加了 .heif 和 .hif 作为 .heic 文件的备用扩展名。
  - 命令：
    - `Show VIEWERCMD=slideshow,on` -- 可以明确打开或关闭幻灯片放映模式，而无需测试当前模式。（如果没有“on”或“off”，则像以前一样作为切换。）
    - `Set FOCUS=ViewPane` -- 给予查看器窗格键盘焦点。

------------------------------------------------------------------------

下一步：[图像转换器](/Manual/release_history/opus13_detailed/image_convert.zh.md)