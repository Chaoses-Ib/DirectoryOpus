# Directory Opus 13 - 详细发布说明

# 列

- 常规：
  - 现在可以临时手动调整设置成填充或折叠模式的列的大小。
  - 如果“显示友好日期”（配置/文件列表列/选项）打开，现在可以选择在过去一周内显示“今天”、“星期一”、“星期二”等日期，或只单独处理“今天”。（完全关闭友好日期意味着在所有情况下都显示确切日期。）
  - 现在可以将用户创建的列（脚本和 Evaluator）放置在任何标准列类别中，使它们更接近内置列。Evaluator 列可以在 UI 中指定这一点，而脚本列可以使用 ScriptColumn.category 属性。
  - 现在可以通过配置更改用户创建的列（脚本和 Evaluator）的颜色。
  - 现在日期/时间脚本列可以自动调整大小（不再像更宽的日期/时间列一样调整大小）。
  - 新的“权限”列指示文件或文件夹的权限是从其父文件夹继承还是显式设置的。可以与高级查找一起使用，或用于创建过滤标签（例如，所有具有显式权限的文件可以显示为不同颜色，或获取状态图标）。
  - 新建列分别用于 SHA-256、SHA-512、CRC32 和 BLAKE3 哈希（除旧的 MD5 和 SHA-1 列之外）。
  - 现在，列列表（配置/文件列表列/外观）告诉你每个列的关键字，使其更容易在按钮/热键中查找和使用。
  - 现在，列列表允许你更改 Shell 列的颜色和其他属性。
  - 现在，列列表按类别分组，而不是以一个长的平面列表显示。
  - 现在可以将任何列设置成在中间截断，而不是在右侧截断。例如，“Directory Opus”可能会截断成“Dire...Opus”，而不是“Director...”。
  - 新选项：“通过点击评级列编辑评级”允许评级列只读。
  - 新选项：“在空列中显示破折号”显示“--”而不是什么也不显示，以表示空列单元格（在适当的时候）。
  - 现在可以选择单个列单元格中的数据并将其复制到剪贴板。按住<kbd>Ctrl</kbd>，然后用鼠标右键点击或拖动以突出显示单元格。松开<kbd>Ctrl</kbd>并右键点击突出显示的单元格以显示剪贴板选项菜单。
  - 在此电脑文件夹内，“类型”列现在报告本地驱动器是 SSD 还是 HDD。还有一个按此分组的选项。
  - 在此电脑中，新建的“物理驱动器”列报告驱动器号挂载的物理驱动器编号。
  - 在此电脑中，现在可以通过配置/文件夹/虚拟文件夹/此电脑关闭“低可用空间警告”（条形图颜色变化）或调整其阈值。（还可以在颜色和字体下调整颜色）
  - *脚本：* 脚本列可以将它们的“省略号”属性设置为“m”以进行中间截断。
- 名称列：
    - （通过配置/文件列表列/文件名配置。）
    - 分开的选项可用于隐藏 .lnk、.url 和其他文件扩展名（如注册表中指定的那样）。
    - 选项可从显示的名称中删除 Unicode 从左向右 (LTR) 和从右向左 (RTL) 字符。这些字符可用于隐藏文件的真实扩展名。如果你不需要使用 RTL 语言，我们建议打开此选项。
    - 截断名称时保留文件扩展名的选项。例如，“Directory Opus.exe”可能会截断成“Direct...exe”，而不是“Directory...”。（类似于更通用的中间省略号选项，但仅在右侧保留扩展名，并且不会对文件夹名称产生影响。）
    - （注意：这些选项还会影响缩略图和类似模式中的文件名显示，即使它们不使用列。）
- 长宽比：
    - 通过对“纵横比”进行改进的分组，支持横向和纵向取向的更多类别。
    - 新建的“长宽比组”列显示像“横向 16:9”这样的名称，而不是像“1.78”这样的数字值。（类似于按“纵横比”分组，但作为每一文件的列显示。）
- 固定列：
    - 在详细信息和高级模式中，现在可以“固定”一列或多列。固定列保持左对齐且不滚动——固定列之后的任何列将在它们下方滚动。
    - *文件夹格式：* 现在可以指定固定列，因此它们始终对特定文件夹有效。
    - <kbd>Ctrl+Alt</kbd>+点击一个列标题来固定/取消固定它。
    - 添加了“固定至此列”列标题上下文菜单。
    - 注意：当一列被固定时，它就不能通过拖放移动其位置。但是，它仍然可以调整大小。
    - 命令：
        - `Set COLUMNSFREEZE` 命令允许通过按钮/热键/等关闭或开启固定列。
        - 当添加具有等 `Set COLUMNSADD` 的列时，可以指定一个额外的参数“z”来固定新列（以及它之前的任何列）。例如，`Set COLUMNSADD=attr(*,*,*,z)`
    - *脚本：* Format.frozen 属性返回固定列的数量。
- Shell 属性：
    - （通过配置/文件列表列/Shell 属性配置。）
    - 现在可以通过简单地点击列表中的一个复选框将文件资源管理器的列添加到 Opus。不再需要任何脚本。
    - 将文件拖放到 UI 上以查看哪些列填充有用的数据。
- Evaluator 列（自定义列）：
    - （通过配置/文件列表列/Evaluator 列配置。）
    - 允许你使用 Evaluator 代码创建自己的列。类似于脚本列，但更容易且性能开销更低。
    - 一个提供的例子展示了如何显示图像的原始位图大小（宽 x 高 x 深）。
    - 另一个例子提供了一个列，显示修改的时间戳，如果日期是今天，则仅显示时间，否则显示日期。
    - 可以将内置列的值作为变量获得，允许你专注于逻辑，而不是从文件中提取数据。例如，一个显示今天修改的文件的修改时间，否则显示修改日期的列可以使用一个简单的单行表达式定义。
- Evaluator 组（自定义分组）：
    - （通过配置/文件列表列/Evaluator 组配置。）
    - 可以在不添加单独的脚本列的情况下为现有列提供自定义分组方案，并且性能开销更低。
    - 可以为单个列定义多个分组方案，这允许针对不同情况进行不同类型的分组。
    - 提供的例子展示了如何按第一个或前两个字母、第一个单词、文件扩展名或名称长度对名称列进行分组。
    - 示例是使用你可以调整以不同方式对列进行分组的简单 Evaluator 代码构建的。
    - 文件夹格式现在可以指定一个分组方案，例如以特殊方式对特定文件夹进行分组。
    - 命令：
        - `Set GROUPSCHEME=...` 命令可以选择一个特定的分组方案。如果没有参数，它将显示一个分组模式菜单。
        - 将 `%groupscheme%` 变量添加到列标题上下文菜单处理中。
    - *脚本：* 向 Tab Format 脚本对象添加了“group_scheme”属性，指示当前的分组方案（如果有的话）。
- 分组：
  - *文件夹格式：*分组选项已移至一个专门的页面中。
  - *命令：*新的 `Set GROUPCOMBINE` 已取代较早的 `Set COMBINESINGLEGROUPS` 和 `Set GROUPINDIVIDUAL`。（旧的自变量依然有效，但已隐藏起来。）
  - *脚本：*`Tab.format.group_combine` 属性返回组合并设置。（旧的 `group_individual` 属性依然有效，但已弃用。）
- 上下文菜单变量：
  - 这些变量可与列标题上下文菜单中的命令一同使用。
  - `%header%`——已右键点击的列的 ID。如果未右键点击任何列则为 -1（例如，右键点击最后一列之后的空白处）。
  - `%headerindex%`——已右键点击的头项的位置。类似于 %headerindex%，但如果点击的是项目右侧一半的位置，则 +1。
  - `%headerinsert%`——插入点。类似于 %headerindex%，但如果点击的是项目右侧一半的位置，则 +1。
  - `%headeritem%`——已弃用。与 %headerinsert% 相同，但名称很混乱。为了避免破坏旧配置而保留。
  - `%headername%`——已点击的列的显示名称。翻译为不同语言。
  - `%headerkey%`——已点击的列的关键字。始终为英文，可传递给命令。
  - `%group%`——文件列表按其分组的列的 ID。如果未分组则为 -1。
  - `%groupname%`——文件列表按其分组的列的显示名称。已翻译。
  - `%groupkey%`——文件列表按其分组的列的关键字。始终为英文。
  - `%groupscheme%`——当前分组方案的关键字。
  - `%frozenfields%`——冻结的列数。如果没有则为 0。

------------------------------------------------------------------------

下一页：[文件夹大小](/Manual/release_history/opus13_detailed/folder_sizes.zh.md)