# Directory Opus 13 - 详细的发行说明

＃ 文件复制

- 通过 Shell API 复制：
  - 在可能的情况下，Opus 现在将默认通过 Windows 资源管理器中使用的非常高级别的 API 复制。
  - 使用某些设备和网络时，复制速度更快。
  - 启用远程文件复制（也称为“复制卸载”或“服务器端复制”）：
    - 在同一服务器上的两个共享之间进行复制时，服务器可以自行处理。
    - 文件数据无需通过网络发送到您的计算机，然后返回到服务器。复制与服务器的驱动器一样快，而不会受到网络瓶颈的影响。
    - 当服务器支持时，会自动进行。对于 Windows 服务器，两端无需配置任何内容。其它 NAS 设备的支持会有所不同，并且取决于制造商。
  - 如果您发现新模式让您的设备速度变慢，可以通过 **配置 / 其它 / 高级：\[文件系统\] copy_allow_delegation** 关闭。
  - *命令：* `Copy DELEGATE` -- 允许对单个副本覆写全局设置。
- 进度对话框：
  - 更准确的速度和时间估计。
  - 平均速度、峰值速度和当前速度显示在图表上，从而减少了对话框其余部分的混乱。
  - 速度图现在使用 Direct2D 进行抗锯齿和绘制。
  - 配置中可配置速度图颜色。
  - 选项：使用 Everything 保留一个队列作业到下一个作业的速度信息（如果使用相同的驱动器）。（请参阅 [Everything](everything.zh.md) 部分。）
  - 作业栏上的进度指示器在文本被截断时有工具提示。
  - 错误标签页现在以灰色图标开头，只有在发生错误时才变为红色。
- 正在进行的文件：
  - “幽灵”文件可能会出现在目标文件夹中，以表示尚未复制的文件。
  - 这些文件列表为褪色，并且不能被打开或修改，因为它们实际上还不存在。一旦创建了真正的目标文件，它就会正常显示并替换其占位符。
  - 图标覆盖指示源文件（属于活动副本的一部分）和当前正在写入的目标文件。（除了指示队列文件的上一个覆盖。）
  - 配置 / 文件操作 / 复制文件下的选项可以关闭所有这些。
- 复制队列：
  - 复制队列现在是进度对话框中的一个标签页，而不是在底部。
  - “在排入新作业时切换到队列标签页”选项控制标签页是否在出现时被激活，或者保持在后台。
  - 用于管理队列的按钮更大。在鼠标悬停时出现。
  - 您可以使用拖放重新排序排队的作业，或将它们拖到另一个队列。
  - 当复制暂停时，您可以将进度对话框的窗口图标拖动到另一个进度对话框来对其入队。
  - 自动复制队列规则已经略有变化：
    - 复制到同一压缩包现在被分配到同一队列。此规则优先于所有其它规则。
    - 以前，对于某些文件夹类型，源文件夹比目标文件夹更重要；现在始终优先考虑目标。
    - 复制到网络共享现在队列在复制到同一共享的其它内容之后。（以前，源和目标都必须相同才能排队。）
- 复制命名：
  - 新选项，“复制虚拟文件时自动重命名”。如果启用，当您从网络浏览器拖动到 Opus，并且同名文件已经存在时，新文件将自动重命名，而无需提示。
  - 新选项可以更改在原地复制文件时使用的“副本”命名模板。
  - 新选项可以在创建快捷方式时更改或删除“- 快捷方式”后缀。（请注意，Opus 不再遵循只能启用或禁用后缀的系统级注册表设置。）
  - 新选项，“在替换对话框中显示重命名预设”。当提示替换或重命名因名称冲突而被提示时，添加一些或全部重命名预设作为菜单选项。
- 文件权限：
  - 新选项，“即使触发 UAC 提示，也要更新权限”。如果关闭，当文件可以在不提升的情况下移动但无法更新其权限时，可以避免 UAC 提示。
  - 新选项修改了“在同一驱动器上移动时将权限/加密更新为匹配目标”的工作方式。默认值与 Opus 12 中的旧行为相匹配：
    - 将所有权更改为与目标匹配（默认情况下关闭）：将文件的权限更改为与目标文件夹的权限匹配。由于目标文件夹授予 CREATOR OWNER 访问权限，这可以防止授予旧所有者不需要的权限。
    - 保留显式（非继承）权限（默认情况下开启）：开启时，显式、非继承的旧文件权限在文件移动后将被保留，并与从新父文件夹继承的权限合并；仅删除旧继承权限。关闭时，所有旧权限都将被删除，并替换为从新父文件夹继承的权限。
- 平面视图和可扩展文件夹：
  - 新选项，“如果所有项目都在同一文件夹中，则复制到单级”。
  - 如果选择的所有内容都在同一位置，则允许从子文件夹中轻松复制，而无需重新创建父级层次结构或提示。
  - 当涉及多个子文件夹时，仍然允许您重新创建层次结构。
  - （有关新*可扩展文件夹*的详细信息，请参阅 [文件列表](file_display.zh.md)。）
- 多窗口源和目标：
  - 默认情况下，*源和目标* 概念现在仅适用于双栏窗口的两侧，而不适用于顶层单显示窗口之间。
  - 新选项，“单显示文件窗口具有源/目标模式”，可以恢复旧行为。
  - 人们往往发现这个概念令人困惑，或者根本不使用它，所以现在默认关闭。
  - 窗口之间的显式操作仍然始终像以前一样工作（例如，拖放或复制粘贴）。这仅影响当您在单显示窗口中选择文件并单击*复制文件*或*移动*以将它们发送到另一个窗口时发生的情况。
- 命令：
  - `Copy UPDATEEXISTING` -- 现在允许“较小”和“较大”的文件大小测试（而不仅仅是不同的）。
  - `Copy UPDATEALL` -- 现在允许与 `Copy UPDATEEXISTING` 相同的测试。
  - `Copy COPYFILETIMES` 和 `Copy COPYDIRTIMES` 现在可以采用“all”、“none”、“onlymodified”或“onlycreated”关键字来覆盖主配置选项。
  - 旧的 `Copy COPYCREATIONTIME` 已弃用并从参数列表中隐藏，但为了兼容性仍然有效。
  - `Copy FLATVIEWCOPY=autosingle` -- 与“ask”或“recreate”结合使用，允许命令执行与“如果所有项目都在同一文件夹中，则复制到单级”相同的功能。
  - `Clipboard PASTE COPYCOMMANDARGS ...` -- 如果这是 Clipboard PASTE 最终运行的内容，则为复制命令提供其它参数。
- `Set PROGRESSCMD=...` -- 可创建热键以向所有当前的进度对话框发送命令。命令包括“最小化”、“还原”、“显示”、“暂停”、“恢复”和“中止”。

------------------------------------------------------------------------

下一篇：[全部](/Manual/release_history/opus13_detailed/everything.zh.md)