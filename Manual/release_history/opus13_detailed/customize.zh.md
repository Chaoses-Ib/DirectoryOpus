# Directory Opus 13 - 详细发行说明

# 自定义

- 常规：
  - 自定义和按钮编辑器不再始终位于其它窗口（如手册）的顶部。
  - 在编辑工具栏时，列表和查看器窗口具有标题栏按钮以提交或取消编辑并退出自定义模式，而无需切换到自定义对话框。第三个按钮可引导您转到自定义对话框，而无需通过 alt-tab 或任务栏查找它。
- 工具栏标签页：
  - 改进了工具栏背景图像、颜色和字体的工作方式，以覆盖主配置设置。
  - 右键单击列表中的工具栏可提供将工具栏恢复出厂设置或撤消未保存的更改的替代方法。
- 上下文菜单标签页：
  - 右键单击列表中的上下文菜单可提供新的“与默认选项相邻编辑”选项。这将打开您的菜单副本与默认版本相邻，允许您比较两者并将默认值拖回您的菜单。
  - 类似于工具栏标签页，右键单击列表中的上下文菜单可提供重置和撤消选项。
- 按键标签页：
  - 现在有两​​个搜索字段：一个查找您按下的键；另一个查找您键入的命令或名称。（以前，只有一个搜索字段，带有一个切换模式的按钮。）
  - 热键列表现在允许您选择一个类别进行过滤，而不是显示一个长列表。
  - 新的“冲突”类别显示所有冲突的键（将两个命令分配给同一个键，需要修复）。
  - 新的“快速键”类别，显示分配给即时查找和过滤栏的键。
  - 包含独立热键（在工具栏或其它地方未定义）的类别可通过其上下文菜单恢复为默认值。
  - “快速键”和“收藏夹”类别上下文菜单具有跳转到各自配置页面并进行编辑的选项。
  - 当一个命令有多个分配的热键时，现在可以禁用单个键，而不是全部或无。
  - 现在可以将列表热键设置为仅在文件夹树具有焦点时才应用。
  - 独立热键是否是系统范围内的，现在已在创建时定义，并且以后无法更改（除了删除和重新创建它）。
  - 现在可以打开热键的“允许附加限定符”来减少它们的严格性。
    - 例如，如果还按住<kbd>Ctrl</kbd>键，Shift+X 热键通常不会触发，但是使用新选项后，它将触发。
    - 热键中的命令可以测试是否按住额外的键。
    - 这允许您将一个命令 `Go UP USEQUALKEYS`分配给一个热键，例如 Backspace。Shift+Backspace、Ctrl+Backspace 和 Alt+Backspace 也会启动它，并且该功能将能够在启动时查看按住了哪些限定符。
    - 同样适用于使用 `@keydown` 测试按下了哪些键的功能。
  - 通常，命令不会将热键明确指定的键视为已按下：
    - 这将使在某些键上运行某些命令（针对工具栏）变得不可能，因为这些键会更改命令的作用。
    - 由于这些键必须按住才能触发热键，因此基于它们的条件逻辑通常没有意义。
    - 当热键打开“允许附加限定符”时，这会改变：它运行的命令可以测试所有限定符键。
- 命令标签页：
  - 现在提供预制按钮的完整列表，您可以将其拖拽到工具栏和菜单中，而无需编辑任何代码。
  - 包括作为默认配置一部分的所有命令，以及一些其它命令。在我们对默认值进行更改时自动保持最新。
  - 可以按类别过滤命令，并且可以通过在搜索字段中键入内容来查找内容。
- 用户命令标签页：
  - 现在在用户命令标签页中管理用户命令，而不是隐藏在命令标签页中。
- 默认工具栏标签页：
  - 显示内置默认工具栏的新标签页。现在，您可以在不重置您实际使用的工具栏的情况下查看默认工具栏。
  - 可以将命令（或整个菜单）拖拽到工具栏中。一种方便的方法来恢复您删除但稍后再次需要的内容。
  - 可以根据添加它们的 Opus 版本突出显示命令。使用此功能使用新功能更新自定义工具栏。
  - 当然，您仍然可以重置您的真实工具栏以获取最新的默认值，并还原您所做的任何更改。
- 按钮编辑器：
  - 用于测试按钮的“使用日志运行”(<kbd>Shift+F5</kbd>) 模式。如果打开，日志会在运行时显示每一行，包括对 `{…}`代码的所有替换。对于调试复杂按钮和条件行很有用。
  - 建议弹出窗口在您键入时完成命令、参数和修饰符名称。按 Ctrl+空格键可在移动光标后显示建议。
  - 参数菜单现在标记在当前行上使用的参数。当您需要查找一个现有的参数以向其中添加参数时，这将提供帮助。
  - 现在，长参数（等）菜单具有滚动条，而不是多列。
  - 新的按钮编辑器布局，并移除了精简的“简单”模式，因为它并没有真正简化事情。
  - 新的“在标签中显示热键”选项，适用于菜单中的按钮。自动显示按钮的热键（如果有的话）在菜单的右侧，而无需手动将其复制到标签字符串中。对不在菜单中的按钮没有影响。
- 自定义模式中的剪贴板：
  - 右键单击组合菜单按钮现在提供了仅复制按钮部分或整个按钮和菜单到剪贴板的选项。
  - 当按钮在剪贴板中时，右键单击菜单现在提供了将按钮粘贴到菜单中的选项，以及与其并排的选项。
  - 右键单击菜单按钮，并在剪贴板中有一个按钮，提供了仅粘贴按钮部分的附加选项。
  - 在自定义模式中，在工具栏（或菜单编辑器的标题栏）上的空白处右键单击时，上下文菜单中现在包括撤消未保存更改的选项。（还包括恢复出厂设置选项，它在那里不是新的。）

------------------------------------------------------------------------

下一步：[默认工具栏和菜单](/Manual/release_history/opus13_detailed/default_toolbars.zh.md)