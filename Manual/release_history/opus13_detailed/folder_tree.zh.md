# Directory Opus 13 - 详细发行说明

# 文件夹树

- 内容：
  - （通过配置/文件夹树/内容配置。）
  - 文件夹树中的根项目可以重新排列或关闭。
  - 个人资料目录下的单个文件夹可以显示或隐藏。
  - Windows 11：Opus 现在会过滤掉 Microsoft 在桌面下添加的大量随机文件夹。一个新选项允许你将它们加回去。
  - 在“此电脑”下隐藏非驱动器的选项。（将只显示驱动器盘符和 MTP 设备，没有“媒体”设备。）
  - 仅显示驱动器标签的选项。
  - 显示智能收藏夹的完整路径的选项。
  - 用户个人资料文件夹（通常是你的用户名）现在默认显示为“个人资料”。如果需要，可以将其改回。
  - 支持 Linux 虚拟文件夹 \\wsl\$\\ （如果存在于受支持的 Windows 版本上）。如果不需要，可以隐藏。
  - 新选项，“删除动态添加的文件夹”。打开时，动态添加的根文件夹（用于显示一个通常隐藏的分支）在导航到其他位置时将再次被删除。关闭时，直到窗口关闭，它们才会一直保留。
  - 对快速访问文件夹的更改现在可以在文件夹树中（以及工具栏上，如果已将文件夹添加到工具栏）中更早地反映出来。
  - 收藏夹分支现在支持树中的分隔符。
  - 删除了“从...开始桌面”下拉菜单。这让人感到困惑，它的大部分功能现在可以通过其他方式实现。例如，“此电脑”可以被移动到一个单独的组中，类似于“从计算机开始”选项，“非驱动器文件夹”可以关闭，类似于“从驱动器开始”选项。
- 网络服务器：
  - 当机器来来去去时，网络分支现在会自动更新（只要 Windows 本身注意到了）。
  - 文件夹树中网络下的计算机列表现在被缓存以实现更快的访问，包括在重新启动期间。
  - 可以在配置/文件夹/网络文件夹下配置缓存。
  - 你还可以指定一个或多个服务器，即使 Windows 无法找到它们，它们也应该始终列出。
- 云存储：
  - 把云存储文件夹放在树的自己的部分中，或完全隐藏它们的选项。
  - Synology 共享现在在树中（和桌面上）正确显示为直接链接到共享文件夹的链接，而不是包含快捷方式的中间文件夹。
- 展开和固定的分支：
  - （通过配置/文件夹树/展开/折叠配置。）
  - 树头有一个新的“全部折叠”按钮。折叠除导致当前路径之外的所有文件夹。
  - 树头有一个新按钮来管理展开预设：
    - 保存一个列表，列出哪些文件夹展开并折叠到命名预设中。
    - 加载预设以展开和折叠文件夹以匹配保存的内容。
    - 根据不同的情况使用多个预设。
  - 新选项，“文件夹树分支上的展开图钉”：
    - 固定的分支保持展开状态，不能折叠。单击“全部折叠”按钮时，它们仍保持展开状态。
    - 如果启用，展开图钉将在鼠标悬停时显示在每个分支的右侧。
    - 点击一次图钉以固定文件夹，再点击一次以取消固定。
    - 如果树具有键盘焦点，则 Ctrl+空格键会切换选定分支的图钉。
  - 新选项，记住*所有*树项（而不仅仅是 Opus 12 中的根项）的展开状态。
  - 新选项，记住根项的展开状态。（Opus 12 一直是这样；现在这是可选的。）
  - 新选项，仅记住固定项的展开状态。
  - 树枝现在在通过鼠标或键盘展开时会短暂地动画显示。新选项，“为展开的分支启用动画”可将其关闭。
  - 旧的“展开我的电脑分支”选项已被删除，因为所有文件夹的状态都会自动记住。
- 其他：
  - 树项高度、缩进和间距现在可配置。
  - 在分支展开时防止滚动的选项。（阻止树跳下来显示尽可能多的展开分支。）
  - “位置选定项”设置有一个新的“来自树顶部的 25%”选项，除了旧的“顶部”和“中间”选项。
  - 新选项显示或隐藏树头部的锁定按钮。（默认情况下关闭。人们往往会点击它而不理解它的作用。）
  - 你现在可以创建仅在文件夹树具有焦点时才应用的热键。
- 命令：
  - `Go TREEEXPAND=...` 和 `Go TREECOLLAPSE=...` -- 以各种方式展开或折叠多个树枝。参数包括：
    - “focus”：展开/折叠具有输入焦点的树项。
    - “all”：展开/折叠当前分支及其内部的所有内容。
    - “first”：仅展开/折叠当前分支。
    - “second”：首次使用时展开/折叠当前分支，然后在第二次使用时展开/折叠其所有子项。
    - （旧的 `Go EXPANDTREE` 已被隐藏，但仍然有效。`Go TREEXPAND` 不带其他参数时执行相同操作。）
  - `Go REMEMBERTREEEXPANSION` 和 `Go RESTORETREEEXPANSION` -- 保存和加载展开和折叠的树项。
    - NAME 参数可以指定要加载或保存的预设。
    - 如果未指定预设，则扩展状态会暂时存储在内存中，直到窗口关闭。
  - `Go RESTORETREEEXPANSION=list` -- 显示可以加载的已保存预设的列表。（你通常会通过树头访问它，但它可以被隐藏。）
  - `Go RESTORETREEEXPANSION=reset` -- 将树的展开状态重置为其初始状态。
  - `Go TREESETPINSTATE` -- 切换选定项的图钉。