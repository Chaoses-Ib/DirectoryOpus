# 条形图和百分比

你可以将状态栏配置为将各种信息值作为百分比显示。例如，当前驱动器上已用磁盘空间的百分比，或者已选文件总大小以目标文件夹中的可用空间百分比表示。可以两种方式显示百分比值 - 作为数字或作为条形图。

- **{pf}** 和 **{pu}** 代码显示已用和可用磁盘空间的百分比。这些已在 **[磁盘空间代码](codes_for_disk_space.zh.md)** 页面中详细说明。
- **{cp}** 代码可以显示根据任何其它状态栏信息代码计算出的百分比。
- **{bg}** 代码显示表示计算百分比的条形图。

**{cp}** 代码用于显示根据两个其它状态栏信息代码或一个代码和一个绝对值计算出的百分比。**{cp}** 代码的模板如下：

**{cp+V=***\<num\>***/***\<den\>***}**

 

在以上模板中，*\<num\>* 是要除的值，而 *\<den\>* 是除数。然后将结果乘以 100 以得出最终百分比，该百分比将显示在状态栏中。*\<num\>* 和 *\<den\>* 都可以指代生成数字的任何状态栏代码。它们还可以指定绝对值，并且此值可以用字节、千字节（使用后缀 **kb**）、兆字节（使用后缀 **mb**）或千兆字节（使用后缀 **gb**）表示。

例如：

- 要显示已选项目大小（**{sb}**）相对于目标文件列表中的可用空间（**{dfDb}**）的百分比，你应指定 **{cp+V=sf/dfDb}**。
- 要显示已选文件大小相对于 4.7 GB（空 DVD 的大小）的百分比，你应指定 **{cp+V=sb/4.7gb}**。

如果单独使用 **{cp}**（不指定 **+V=**），则默认行为是指示已用磁盘空间的值 - 这相当于 **V=du/dt**。对此的例外是如果 **{cp}** 之前使用了 **{bg}** 代码 - 在此情况下，将显示条形图反映的百分比。

**{bg}** 代码用于在状态栏中显示条形图。显示的默认图形是当前驱动器上已用磁盘空间百分比。你可以使用一个或多个参数配置 **{bg}** 代码，以控制：

- 图形的宽度
- 文本和填充颜色
- 使用的渐变填充类型（如果存在）
- 使用的边框类型（如果存在）
- 它应出现在哪一行上（让你将一个条形图定位在另一个条形图上方）
- 图形计算中使用的状态栏信息代码

**{bg}** 代码的模板如下：

**{bg+***\<param\>***,***\<param\>***,***...***}**

可用参数有：

<table>
<thead><tr><th>
代码</th><th>
说明
</th></tr></thead><tbody><tr><td>

**W=***\<width\>*</td><td>

设置图形的宽度（以像素为单位）。指定 **-1** 使图形与所在的栏部分一样宽。正数将随系统 DPI 缩放，因此在标准 DPI 下 50 的宽度为 50 像素，而在 200% DPI 下宽度为 100 像素。可以将负值（-1 除外）用于指定不随 DPI 缩放的宽度。
</td></tr><tr><td>

**C=#***\<rrggbb\>*</td><td>

设置条形图颜色。当条形图是实心时使用此设置 - 当使用渐变条形图时使用 **C1** 和 **C2**。颜色以十六进制符号给出，例如 **C=#ff8000**。
</td></tr><tr><td>

**C1=#***\<rrggbb\>*</td><td>
使用渐变填充时设置条形图的左色。
</td></tr><tr><td>

**C2=#***\<rrggbb\>*</td><td>
使用渐变填充时设置条形图的右色。
</td></tr><tr><td>

**C3=#***\<rrggbb\>*</td><td>

设置当计算出的百分比大于 100% 时的条形图颜色。例如，你可以创建一个条形图，将已选文件的大小与 DVD 上的空间进行比较 - 如果大小大于 4.7GB，则条形图可以变为红色。
</td></tr><tr><td>

**B=#***\<rrggbb\>*</td><td>
设置条形图的背景色。这是用于填充未被条形图占据的空间的颜色（即在条形图右侧）。
</td></tr><tr><td>

**B=n**</td><td>

不使用条形图的背景填充 - 状态栏的背景将显示在条形图右侧。
</td></tr><tr><td>

**T=#***\<rrggbb\>*</td><td>

设置绘制在条形图顶部的百分比值的文本颜色。颜色以十六进制符号给出，例如 T**=#ffffff**。
</td></tr><tr><td>

**T=n**</td><td>
不显示百分比值。
</td></tr><tr><td>

**G=***\<gradient\>*</td><td>

设置用于填充条形图的渐变类型。可用类型包括：  
**0** - 无渐变（实心填充 - 颜色由 **C** 设置）  
**1** - 正常渐变填充（从 **C1** 到 **C2** 的颜色渐变）  
**2** - 缩放渐变填充  
**3** - 计算机样式渐变类型 A（非主题）  
**4** - 计算机样式渐变类型 B（非主题）  
**5** - 计算机样式渐变类型 A（主题）  
**6** - 计算机样式渐变类型 B（主题）  
对于正常渐变填充 (**1**)，在条形图最右侧绘制的颜色将等于 **C2**。例如，当 C1=#FF0000（红色）和 C2=#FFFF00（黄色）时，即使百分比小于 100%，你也可以看到黄色绘制在条形图的右侧：  
![](/Manual/images/media/gradient_1.png)   
对于缩放渐变填充 (**2**)，当条形图百分比等于 100% 时才使用 **C2**。在低于 100% 的值下，绘制在条形图最右侧的颜色将是 **C1** 和 **C2** 之间的一种颜色，该颜色与正在绘制的百分比成正比。在上例中，你可以看到条形图的右侧绘制成一种橙色 - 只有在 100% 标记处才会使用完全的黄色。  
![](/Manual/images/media/gradient_2.png)  
当使用 **0**、**1** 或 **2** 时，如果设置了 **C3** 颜色且条形图的值超过 100%，则整个条形图将变为 **C3** 颜色。例如，如果你有一个条形图，显示空 DVD 中有多少被选内容填充，则当选内容太大而无法放入时，你可能希望条形图变色。  
计算机样式渐变（**3**、**4**、**5** 和 **6**）基于计算机文件夹中显示的可用空间条形图。“非主题”版本由 Opus 本身绘制，而“主题”版本由你的 Windows 视觉样式绘制。（在 Windows Aero 中，主题和非主题条形图看起来非常相似，但这可能会因其它视觉样式而异。）  
![](/Manual/images/media/gradient_3.png)  
当使用计算机样式渐变时，由 **C**、**C1** 和 **C2** 设置的颜色将被忽略。“非主题”版本始终使用蓝色和红色。在 Windows Aero 中，“主题”版本也使用蓝色和红色，但其它视觉样式可能看起来有所不同。  
计算机样式类型 A 渐变（**3** 和 **5**）通常用于显示已用空间。类型 B 渐变（**4** 和 **6**）通常用于显示可用空间图形。默认情况下，类型 A 为低于 90% 的百分比显示蓝色条形图，而为其它百分比显示红色条形图。类型 B 则相反，为低于 10% 的百分比显示红色条形图，而为其它百分比显示蓝色条形图。
如果在使用计算机样式渐变时，将 **C3** 颜色设置为任何其它颜色，则蓝/红色颜色的分割点将从 90% 更改为 100%。在使用计算机样式渐变时，**C3** 颜色实际设置为任何颜色都无所谓；只要有任何设置即可。