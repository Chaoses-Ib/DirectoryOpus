# 求值器分组

此页面允许您定义使用 [求值器](/Manual/evaluator/README.zh.md) 控制文件和文件夹如何分组的*分组方案*（当在文件列表中启用[分组](/Manual/basic_concepts/sorting_and_grouping/manual_sorting.zh.md)时）。

将对每个文件和文件夹调用提供的求值器代码，以确定将项目放入哪个组中。

分组方案是按每列分配的。创建方案时，您还可以决定其适用的列（如果您的方案足够通用）。

分组方案可以选择性地替换特定列的默认分组规则。如果在默认方案之外创建了附加方案，则在选择按其分组的列时，它们会显示在子菜单中。

![group_schemes.png](/Manual/images/media/13/group_schemes.png)

例如，默认配置为 **名称** 列定义了五个附加分组方案。

您的已配置方案显示在列表中。使用列表上方工具栏上的按钮添加、编辑或删除方案。您还可以使用共享按钮将方案的定义复制到剪贴板或粘贴进来。

单击**添加**或**编辑**按钮将显示方案编辑器。

### 分组方案编辑器

![group_scheme_editor.png](/Manual/images/media/13/group_scheme_editor.png)

此示例方案基于文件名首字母将项目分组在一起。

**名称** 字段定义了方案的名称，该名称可用于通过编程方式激活它。例如，您可以使用命令 `Set GROUPBY=name GROUPSCHEME=first_letter`启用使用此方案的分组。

在选择要按其分组的列时，菜单中会显示**描述**。

**定义**标签页是定义分组方案的位置。

### 定义标签

方案可以使用*静态组*或*动态组*。

如果**静态组**选项已关闭，则求值器代码必须返回要将每个项目放入其中的组的名称。在上述示例中，求值代码返回文件名的首字母，并转换为大写作为组名。因此，所有以相同字母开头的文件都将最终归入同一组。如果名称不以字母或数字开头，则它将返回一个空字符串——这意味着该项目将被放入*未指定*组中。

如果**静态组**选项已打开，则会显示额外的控件，以便您预定义组。

![group_scheme_editor_static.png](/Manual/images/media/13/group_scheme_editor_static.png)

每个组都有编号，求值语句必须返回要将每个项目放入其中的组的编号（或对于*未指定*为 `0`）。

求值语句会得到一个名为 `value`的变量，该变量为每个文件或文件夹提供正在分组的值。例如，如果按名称分组，这将是每个项目的文件名。

**按字母顺序对组排序**选项控制组的排序顺序。如果打开，它们将按字母顺序排序。如果关闭，求值语句可以指定顺序——请参阅 [求值器](/Manual/evaluator/applicable_contexts/evaluator_groups.zh.md) 部分了解更多详细信息以及在此上下文中求值器可用的其他变量。

**反转组顺序**选项反转组的排序顺序。

### 列标签页

在此标签页中，您可以指定方案适用的列。这会影响在分组菜单中显示的内容（如上图所示）——除非方案与相关列关联，否则不会在那里提供该方案。

如果您的方案足够通用，您可以将其添加到多个列（例如，上述第一个字母方案实际上可以应用到任何列）。

在左侧的列表中选择要将方案应用到的列，然后单击 <kbd>右</kbd> 按钮将其移到右侧的已选列表中。

请注意，在编程中，分组时您可以应用任何方案——例如，命令 <nobr>`Set GROUPBY=type GROUPSCHEME=first_letter`</nobr> 将“first letter”（首字母）方案应用于 type（类型）列，即使在默认情况下它只与名称列关联。

请参阅关于 [求值器](/Manual/evaluator/README.zh.md)的部分以了解您可以在哪里使用求值器的更多信息。