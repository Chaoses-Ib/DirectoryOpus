# 配对文件夹

此页面允许你配置文件夹对，Opus 将其作特殊处理。例如，导航至其中一个配对文件夹可以自动在文件列表的另一位置打开与之配对的文件夹。

列表上方的工具栏按钮可让你创建和管理配对文件夹。

配对文件夹可以基于绝对路径或正则表达式。正则表达式会按列表中的顺序进行求值，**向上移动**和**向下移动**按钮可用于根据需要更改其顺序。

添加或编辑文件夹对时，将显示*配对文件夹*对话框。

##### 配对文件夹编辑器

你可以通过两种不同的方式配置一对中的文件夹。

- **绝对路径**：使用此方法，指定两个特定的文件夹路径（**主**文件夹和**次**文件夹）。此样式的配对是双向的。
- **正则表达式**：指定**匹配**和**替换**模式。如果文件夹与**匹配**模式匹配，则它将成为**主**文件夹，并且**替换**模式将用于生成其对。

![](/Manual/images/media/13/paired_folder.png)

这显示了一个简单的示例，它在 `C:\Work\Staging` 下的任何文件夹和 `C:\Work\Production` 下的等效文件夹之间建立一个自动对。正则表达式使用捕获组复制 `Staging` 后面的路径剩余部分并将其追加到生产文件夹的路径。

控制此对的选项有：

- **主文件夹**：将主文件夹指定为绝对路径（你在此处使用别名）。
- **次文件夹**：指定次文件夹。
- **匹配**：将主文件夹指定为正则表达式。
- **替换**：指定生成次文件夹的替换模式。
- **展开文件夹别名**：将展开正则表达式中的文件夹别名。
- **如果不存在**：指定次文件夹不存在时要执行的操作。
  - **转至第一个存在的父文件夹**：Opus 将向上移动文件夹树，直到找到一个存在的文件夹。
  - **忽略此对**：该对被视为不存在。
  - **即使不存在也使用路径**：Opus 将尝试读取路径，如果失败，则显示错误。
- **对所有子文件夹应用设置**：主文件夹下方的所有子文件夹将以相同方式进行处理。该选项允许更简单地实现上面显示的示例，如下所示：
  - **主文件夹**：`C:\Work\Staging`
  - **次文件夹**：`C:\Work\Production`
- **默认双栏文件夹**：在将文件窗口切换到双栏模式时，配对文件夹将用作默认位置。
  - **始终在左/上方显示主文件夹**：如果在切换到双栏模式时次文件夹已经打开，则主文件夹将被设置为左/上方文件列表。
  - **自动打开导航锁定**：[导航锁定](/Manual/basic_concepts/the_lister/dual_display/navigation_lock.zh.md) 将在切换到双栏模式时自动打开。
- **默认导航锁定目标**：即使文件窗口处于单显示模式，也可打开导航锁定。配对文件夹将自动加载为默认目标。
- **默认同步目标**：[同步](/Manual/file_operations/copying_moving_and_deleting_files/copying_updated_files/synchronize.zh.md) 工具将使用配对文件夹作为默认同步目标。

在对话框的底部，**测试文件夹**字段允许你测试你的配对设置。输入或浏览文件夹路径，如果它与**结果**字段匹配，下方将显示次路径。