# 文件夹格式

此页面允许您配置 [文件夹格式](/Manual/basic_concepts/folder_options/folder_formats.zh.md) 系统，该系统让您为特定的文件夹、内含特定类型文件的文件夹或某些类型文件夹的默认值定义文件夹格式（显示参数）。例如，您可以让 Opus 自动以相反的顺序按日期对特定文件夹进行排序，或是在任何大部分含有图片的文件夹中切换为缩略图模式。

文件夹格式系统很强大但也相当复杂。它在 [资源中心中有常见问题解答](https://resource.dopus.com/t/folder-formats-quick-guide/1313?u=chaoses-ib) ，我们建议您阅读它，因为它可能会比本帮助文件详细解释一些事情。

还有 [自动格式](/Manual/preferences/preferences_categories/folders/folder_formats/automatic_formats.zh.md) 系统，它可以自动记住文件夹格式的更改，而无需您手动配置它们。

格式列表分为不同的部分：

![](/Manual/images/media/13/folder_formats.png)

 

### 收藏格式

这些格式未链接至特定的文件夹，而是可以通过资源管理器 '*文件*' 菜单中的下拉列表快速应用至任何文件夹。

### 路径格式

此组包含已针对特定文件夹定义的格式。您还可以使用通配符字符串为路径定义格式。

### 系统文件夹

包含可以针对某些特殊位置定义的格式。此组中目前只有两种格式 - **计算机** 文件夹（Opus 在显示该文件夹本身而不是托管资源管理器时使用），以及 **便携设备** 文件夹（查看 [mtp:](/Manual/basic_concepts/virtual_file_system/mtp.zh.md) 命名空间的根目录时使用）。

### 内容类型格式

“内容类型”部分包含为 [文件类型组](/Manual/file_types/file_type_groups.zh.md) 定义的格式。当 [内容类型](/Manual/basic_concepts/folder_options/content_types.zh.md) 系统启用时，在读取包含足够数量此类类型文件的文件夹时，这些格式将自动使用。例如，图像组的内容类型格式可以设置为切换到缩略图模式。如果您导航至包含大部分图像的文件夹，此格式将自动应用。

### 文件夹类型格式

此部分定义在尚未定义特定格式时用于某些类型文件夹的默认格式。默认类型为：

      * **压缩包**：ZIP 及其它压缩包文件的默认格式。
      * **云端存储**：云端存储文件夹的默认格式（OneDrive、Dropbox 等）
      * **集合**：[[:basic_concepts:virtual_file_system:file_collections | 文件集合]] 文件夹的默认格式。
      * **重复文件**：文件集合的默认格式，用于显示 [[:additional_functionality:duplicate_file_finder | 重复文件查找器]] 的结果。这将覆盖这些集合的 **集合** 格式。
      * **查找结果**：文件集合的默认格式，用于显示 [[:basic_concepts:searching_and_filtering:find_files | 查找工具]] 的结果。这将覆盖这些集合的 **集合** 格式。
      * **平板视图**：指定了在文件列表置为 [[:basic_concepts:flat_view | 平板视图]] 模式时应用的格式。
      * **FTP**：FTP 站点的默认格式。
      * **本地驱动器**：位于本地驱动器（如 C: 这样的固定硬盘）的文件夹的默认格式。
      * **网络驱动器**：位于网络驱动器中的文件夹的默认格式。
      * **便携设备**：位于便携设备（如手机和相机）的文件夹的默认格式。
      * **可移动驱动器**：可移动驱动器（如 USB 闪存驱动器）的默认格式。
      * **搜索结果**：文件集合的默认格式，用于显示快速搜索结果。这将覆盖这些集合的 **集合** 格式。
      * **同步**：这是在使用 [[:file_operations:copying_moving_and_deleting_files:copying_updated_files:synchronize | 同步]] 工具时应用的格式。

### 默认格式

最后一个组包含单个项目 - *用户默认* 格式。这是在未定义其它任何格式时使用的“最后手段格式”（见下文）。

 

### 文件夹格式是如何使用的

无论何时您导航至新文件夹，Opus 都会参考“格式”列表，确定以何种格式显示该文件夹。从上到下搜索此列表：

1. 如果已经为该特定文件夹配置了 **路径格式**，或者该文件夹匹配已配置的通配符格式，则将使用它。
2. 如果启用了 [自动格式](/Manual/preferences/preferences_categories/folders/folder_formats/automatic_formats.zh.md)，Opus 会检查自动保存的格式，并在找到时使用它。
3. 如果启用了 **内容类型** 系统，则会对其进行检查。如果该文件夹包含满足内容类型格式要求的文件，则将使用该格式。
4. 如果没有任何其它格式匹配，则如果启用了它，将使用该类型文件夹或驱动器的 **文件夹类型格式**。
5. 如果尚未配置 **文件夹类型格式**（或已关闭），则将使用 **用户默认** 格式。这是一种“万能”格式，绝不会关闭，并且代表所有文件夹的基础默认格式。

（顺便说一下：在某些情况下，当您导航至新文件夹时，上述情况并不适用。如果您在当前文件列表中使用 **[文件夹格式](/Manual/basic_concepts/folder_options/README.zh.md)** 对话框编辑了格式，您手动编辑的格式将一直保留，直到您导航至为它定义了特定格式的文件夹。如果您启用了 [格式锁定](/Manual/basic_concepts/folder_options/locking_the_format.zh.md)，格式将 **绝不会** 自动更改。）

### 使用格式列表

首先，您会注意到列表中某些格式带复选框 - 这允许您打开或关闭格式（对于路径格式，它允许您暂时禁用格式，而无需从列表中删除它）。

列表上方的工具栏允许您添加、编辑、重命名和删除格式。您还可以与其它人分享它们，并粘贴其它人与您分享的格式。

使用 ![](/Manual/images/media/13/button_add.png) **添加** 按钮添加一个新格式。下拉菜单可让您选择要添加的格式类型：

- **路径格式**：特定路径的格式。
- **通配符路径格式**：与指定通配符模式匹配的任何路径的格式。您可以使用标准 Opus [通配符系统](/Manual/reference/wildcard_reference/pattern_matching_syntax.zh.md) 或使用 [正则表达式](/Manual/file_operations/renaming_files/advanced_rename/rename_modes/regular_expressions.zh.md) 定义模式。如果启用了 **展开别名** 选项，则 Opus 会尝试展开输入字符串中的文件夹别名和环境变量，然后再执行模式匹配。例如，** /$Data**（这是名为 *Data* 的驱动器的文件夹别名）将允许您创建文件夹格式，该格式适用于标记为 *Data* 的驱动器，无论其驱动器号是什么。
- **内容类型格式**：实际上，除了为你打开 [文件类型对话框](/Manual/file_types/README.zh.md)，此选项什么都不做。内容类型格式基于 [文件类型组](/Manual/file_types/file_type_groups.zh.md)；而且，要添加新的内容类型，必须使用文件类型编辑器添加新组。一旦通过文件类型编辑器添加了组，它就会显示在格式列表中的内容类型部分，然后你可以为此类组定义格式。
- **收藏格式**：系统将要求你提供新格式的名称。

除了使用工具栏按钮，你还可以执行下列操作：

- 双击格式以快速编辑格式
- 右键单击格式以复制其定义并将其粘贴到另一个现有格式、收藏列表或复制收藏格式的定义到另一个格式中。

### 编辑格式

![](/Manual/images/media/13/format_editor.png)

编辑格式时，Opus 将显示 **编辑格式** 对话框。

此对话框包含多个标签页，这些标签页控制文件夹显示的各个方面。每个标签页都可以单独启用或禁用。禁用标签页时，即使格式本身已使用，该标签页中的选项也不应用于显示。这意味着“更具体的”格式（如某个文件夹的路径格式）可以继承“更通用的”格式（如一个默认值）的设置。例如，上面屏幕截图中 *Visual Studio Projects* 的通配符格式没有做任何事情，只是将文件列表设置为按修改日期分组。显示参数的其余部分将来自适用的默认格式。

有关文件夹格式可用选项的完整讨论，请参阅 [文件夹格式](/Manual/basic_concepts/folder_options/README.zh.md) 页面。

### 可继承的列

**列** 标签页的底部是 **包含来自其它匹配格式的列** 选项。此选项会影响在使用此格式时显示哪些列。

- 如果关闭（并且 **列** 页面的复选框处于启用状态），则 विवरण或高级模式中显示的唯一列将是此格式定义的列。
- 如果此选项打开，则将显示此格式定义的列，*以及当前文件夹匹配的任何其它格式的列*。

在第二种情况下，用于查找文件夹格式的方法将在上面进行轻微修改。仍然使用第一个匹配格式，但是搜索不会立即停止 - Opus 将继续按照优先级顺序向下查找其它匹配的格式，并应用由那些格式定义的任何列（且仅应用列 - 没有其它设置）。一旦遇到没有打开 **包含来自其它匹配格式的列** 的匹配格式，此进程将停止。

### 应用于子文件夹

**编辑格式** 对话框的最底部是 **用作所有子文件夹的默认格式** 选项。

此选项与路径格式一起使用 - 如果打开，则为路径定义的格式也将用于该路径下的任何子文件夹，除非那些子文件夹也定义了自己的特定路径格式。