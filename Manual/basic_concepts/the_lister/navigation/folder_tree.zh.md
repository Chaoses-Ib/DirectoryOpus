# 文件树

文件树是一种常见的用户界面，用于文件系统的文件夹层次结构的导航和表示。

![](/Manual/images/media/13/tree.png) 

##### 与文件列表的关系

通常情况下，都会有一个文件列表区域和一个文件树。在双栏的文件窗口中，会有两个文件列表区域，但你可以选择使用一个或两个文件树。如果你有两个文件树，则每个文件列表区域都有自己的文件树；但如果只有一个文件树，则可以由两个文件列表区域共享。在此模式下，文件树将切换显示活动文件列表区域或源文件列表区域的位置，而在文件树中点击文件夹也将只更改源文件列表区域的位置。

##### 导航

使用文件树进行导航非常简单，只需要点击文件夹即可；连接到该文件树的文件列表区域将立即更改位置，以显示你点击的文件夹的内容。

如果文件树具有输入焦点（即它是文件窗口中处于活动状态的用户界面元素，并且按键指令都已定向到它），则还可以使用光标键通过键盘进行导航。

##### 键盘界面

默认情况下，文件树支持多种键盘命令：

- <kbd>上箭头键</kbd> 和 <kbd>下箭头键</kbd> 可沿列表向上和向下移动选中项
- <kbd>右箭头键</kbd> 和 <kbd>左箭头键</kbd> 可展开/折叠选定的文件夹
- <kbd>F2</kbd> 可重命名选定的文件夹
- <kbd>Del</kbd> 可删除选定的文件夹

使用 [自定义](/Manual/customize/README.zh.md) 系统，还可以对专门用于文件树的 [按键](/Manual/customize/the_customize_dialog/keys.zh.md) 进行编程。其中一些默认已配置好：

- <kbd>+</kbd> 可在第一次按下时展开所选文件夹，在第二次按下时展开其下方的所有二级文件夹
- <kbd>-</kbd> 可执行折叠的类似功能
- <kbd>\*</kbd> 可展开所有文件夹
- <kbd>Ctrl+Space</kbd> 在 [配置](/Manual/preferences/preferences_categories/folder_tree/expand_collapse/pins.zh.md) 中启用固定功能时，可切换文件夹的固定状态。

##### 显示子文件夹

文件树中每个项目左侧显示的小标志被称为 *展开按钮*。如果使用的是其他版本的 Windows 或第三方主题，则此按钮可能与上述截图的显示不同，但通常具有两种主要状态——*打开* 和 *关闭*。

在上述截图中，**桌面**、**此电脑** 和 **本地磁盘** 分支为 *打开* 状态——这些文件夹已展开，层级结构中的子文件夹可见。其他分支为关闭状态——其子文件夹未显示。**Logs** 和 **PerfLogs** 分支根本未显示标志——这表明该文件夹没有子文件夹，因此无法展开。

##### 上下文菜单

与其他程序一样，可以通过右键单击树中的项目来访问其上下文菜单。在键盘上，可以按 <kbd>Shift+F10</kbd> 来显示所选项目的上下文菜单。有些键盘在空格键右侧也设有一个专用键，用于此目的。

##### 重命名文件夹

你可以使用文件树重命名文件夹（无论如何都能支持重命名的那些）。这可以通过多种方式激活：

- 如果左键单击项目（选择它），则可以在双击超时过去之后再次单击该项目来重命名它（这称为 *慢双击*）。
- 如果文件树具有输入焦点（例如，在你单击该文件树之后），则可以通过按 <kbd>F2</kbd> 来重命名所选项目。
- 你可以右键单击项目，然后从上下文菜单中选择 **重命名**。

按 <kbd>Enter</kbd> 以应用当前文件夹的新名称，或按 <kbd>Esc</kbd> 以取消重命名当前文件夹。

在 Opus 中，重命名字段有一些在资源管理器中没有的特性：

- <kbd>上箭头键</kbd> 和 <kbd>下箭头键</kbd> 可以让你应用当前文件夹的新名称，并开始重命名相邻文件夹。
- 可使用各种按键来转换所选文本。有关更多信息，请参阅 [内联重命名](/Manual/file_operations/renaming_files/inline_rename.zh.md) 页面。

##### 拖放

你可以使用拖放来将文件复制或移动到文件树中的文件夹。你还可以将文件夹拖出文件树，来复制或移动（或创建快捷方式）到某个文件夹。

##### 文件树标题按钮

标题栏中有一些按钮可帮助使用文件树。

![](/Manual/images/media/13/tree_buttons.png) 

从左到右，这些按钮分别是：

- **查找**：如果当前选定的文件夹已滚动到视图之外，则单击此按钮会重新定位该文件夹，使其尽可能接近显示区域的中心。
- **折叠**：折叠文件树中的所有文件夹，但继续显示通向当前文件夹的文件夹。这是一个快速使文件树恢复到可管理状态的好方法。
- **预设**：预设下拉菜单可用于保存和加载“文件树展开预设”。这些预设会记住哪些文件夹已展开，哪些未展开，并允许你立即将文件树还原到之前的展开状态。
- **关闭**：这将关闭文件树。若要重新打开它，请从 **文件窗口配置** 菜单中选择 **文件树** 命令（或按 <kbd>F8</kbd>）。

配置中还有一个选项可在标题栏中启用一个锁定按钮。锁定后，文件树将停止跟随文件列表区域，并且不会自动更改位置。

##### 路径高亮

文件树可以被配置为高亮显示当前选定文件夹的路径作为可视辅助工具。这可以使文件树中的当前选中项更加显眼。高亮显示可以始终显示，也可以只在文件树本身处于活动状态时显示。

![](/Manual/images/media/13/tree_path.png)

此外，如上图所示，还可以选择显示所有当前打开标签的路径。这些选项均配置在配置的 **[文件树 / 外观](/Manual/preferences/preferences_categories/folder_tree/appearance.zh.md)** 页面中。