# 排序和分组

你可以通过多种不同的方式来控制文件和文件夹的显示顺序。首要方法是定义“排序顺序”。可以根据当前显示的任何列对文件列表进行排序。你也可以使用 [手动排序](/Manual/basic_concepts/sorting_and_grouping/manual_sorting.zh.md) 随意排列文件夹的内容。

### 必须打开列才能按列排序

如果你想要按的字段当前未显示在文件列表中，请使用 **[文件夹格式](folder_options/README.zh.md)** 对话框添加所需的列。即使在基于非列的视图模式（例如“列表模式”）中也适用 - 即使没有显示该列，在按列排序之前仍然必须将其添加到文件夹格式中。

### 通过列标题排序

在详细信息和高级模式中，你可以通过单击列标题中所需的排序字段来更改排序顺序。你也可以通过在 [文件列表/选项](/Manual/preferences/preferences_categories/file_displays/options/README.zh.md) 偏好设置页面上启用“在图标模式中显示排序头”选项，在其它视图模式中显示列标题。

- 单击列标题中的按钮按该字段对列表进行排序
- 再次单击同一按钮以反转排序顺序
- 单击头按钮时按住 <kbd>Shift</kbd> 键可直接跳转到反向顺序
- 右键单击列标题通过上下文菜单更改排序顺序

![](/Manual/images/media/13/column_header.png)

列标题中的箭头指示当前排序字段和方向（升序或降序）。

### 按多个字段排序

使用列标题时，你可以按住 <kbd>Ctrl</kbd> 键按多个字段排序。通过正常方式单击选择第一个（主）排序字段，然后按住 <kbd>Ctrl</kbd> 键单击第二个字段、第三个字段、第四个字段，依此类推。

![](/Manual/images/media/13/column_header_multi.png)

上图显示了一个按大小首先排序，然后再按名称排序的列表。

当多个列排序生效时，列标题的左侧会出现一个附加的箭头按钮。这可以让你反转整体排序顺序。可以通过按住 <kbd>Ctrl+Shift</kbd> 并单击每个字段的列标题按钮，逐个修改每个排序字段的方向。

### 不使用列标题进行排序

如果列标题不可见，更改排序顺序的最简单方法是在文件列表的背景上右键单击（一个空白区域 - 如果你找不到空白区域，请右键单击状态栏），然后从上下文菜单中选择所需的排序字段。

你还可以使用 [文件夹格式](folder_options/README.zh.md) 对话框来更改排序顺序。文件夹格式对话框中还有其它几个会影响列表中项目顺序的选项 - 例如，你可以选择文件应排在文件夹之前还是之后，或者文件和文件夹应混合在一起。

### 分组

分组可以让你将文件列表拆分成多个组。你可以按与排序相同的列进行分组，也可以按完全不同的列进行分组。

![](/Manual/images/media/13/grouping.png) 

在此屏幕截图中，列表已按上次修改日期分组。每个组都有一个标题，该标题识别组的内容并显示组中的项目数。

### 你可以按未启用的字段进行分组

与排序不同，你分组的列不必当前显示 - 尽管下面描述的分组上下文菜单只会显示那些当前已启用的列。

要按未显示的列进行分组，你需要使用 [文件夹格式](folder_options/README.zh.md) 对话框或内部 `Set GROUPBY` 命令。

### 通过列标题分组

要对列表进行分组（或取消分组），请右键单击列标题，然后从 **按分组** 菜单中选择所需的字段。

你还可以按住 <kbd>Alt</kbd> 并单击与所需组字段相对应的列标题按钮。如果你再次单击此按钮（同时按住 <kbd>Alt</kbd> 键），分组方向将被反转。

通过按住 <kbd>Shift+Alt</kbd> 并单击标题中的任何字段，可以完全禁用分组。

### 不使用列标题进行分组

与排序一样，你也可以从文件列表上下文菜单或文件夹格式对话框控制分组。

### 使用组

基本组控件包括：

- 你可以通过单击组标签左侧的小箭头图像来折叠（隐藏）或展开（显示）组的内容。
- 使用键盘，将焦点放在组标题上，然后按 <kbd>Left</kbd> 折叠它，或按 <kbd>Right</kbd> 展开它。
- 单击组标题将自动选择该组中的所有文件。
- 右键单击组标题选择该组中的所有文件，然后显示它们的上下文菜单。

  
当你右键单击组标题时，会在上下文菜单顶部添加一些与分组相关的命令：

- **折叠组**：折叠你单击的组。
- **展开组**：展开折叠的组。
- **展开所有组**：展开所有已折叠的组。
- **折叠所有组**：折叠当前已展开的所有组。
- **折叠其它组**：折叠除你单击的组之外的所有组。

### 组列

作为上面所示的组外观（各组通过标题垂直分隔）的替代方案，可以通过 **[文件夹格式](folder_options/README.zh.md)** 对话框将“组”列添加到文件列表中。

当此列存在于分组的文件列表中时，此列本身将显示标题，从而形成更紧凑的显示。

![](/Manual/images/media/13/grouping_new.png) 

你可以将启用 **当按文件列表分组时自动添加“组”列** 选项，配置 Opus 在按文件列表分组时自动添加“组”列，该选项位于 [文件列表列/选项](/Manual/preferences/preferences_categories/file_display_columns/options.zh.md) 偏好设置页面上。

### 组颜色

从 **[Directory Opus 颜色](/Manual/preferences/preferences_categories/colors_and_fonts/directory_opus_colors.zh.md)** 偏好设置页面，你可以配置用于组标题和“组”列的颜色。

### 分组方案

使用 [求值器](/Manual/evaluator/README.zh.md)，你可以定义“分组方案”，这些方案可以更改或替换特定列的默认分组逻辑。

通过 [求值器组](/Manual/preferences/preferences_categories/file_display_columns/evaluator_groups.zh.md) 偏好设置页面配置分组方案。

更多内容：  
[手动排序](/Manual/basic_concepts/sorting_and_grouping/manual_sorting.zh.md)