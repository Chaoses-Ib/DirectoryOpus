# 文件夹大小

通常在 Windows 上，只有文件的大小很容易看到 - 文件夹的（总）大小通常不会显示。这主要是由于文件系统不会记录文件夹的总大小。相反，显示文件夹的大小需要读取该文件夹（和其所有子文件夹，递归）的内容，然后相加总大小。

##### 文件夹大小计算

Opus 能够计算文件夹的大小，并像文件大小一样在文件列表中显示该大小。

> [!NOTE]
> 如果你安装了 [voidtools 的 Everything](https://voidtools.com)，Opus 可以使用其搜索索引为已建立索引的位置大幅加快此计算。

有两种方法可以在 Directory Opus 中触发此行为 - 手动和自动。

##### 触发手动计算

要手动计算一个或多个文件夹的大小，最简单的方法是选择有关文件夹，然后从 **编辑** 菜单中选择 **计算文件夹大小** 命令（或按 <kbd>Ctrl+K</kbd>）。如果你在未选择任何文件夹的情况下执行此命令，将计算当前文件列表中的所有子文件夹的大小。

触发单个文件夹的手动计算的另一种方法是将鼠标悬停在其上方，直到显示其工具提示。文件夹的默认工具提示包含 `{foldersize}` 代码，因此显示文件夹的工具提示将触发对其内容的计数。使用此方法你必须将鼠标悬停在文件夹上（从而保持工具提示可见），直到计数完成。但是，如果已修改文件夹的 [信息提示](/Manual/file_types/filetype_editor/info_tip.zh.md) 以删除此代码，则此方法可能不起作用。

##### 自动计算

还可以配置 Opus，以便在读取文件夹（或某些文件夹）时自动计算子文件夹的大小。[文件夹/文件夹大小](/Manual/preferences/preferences_categories/folders/folder_sizes/README.zh.md) 偏好设置页面的选项控制此项。

##### 文件夹大小可能不准确

你应该将文件夹大小视为一个指引，而不是像文件大小那样是一个准确的值。文件夹权限可能意味着 Opus 无法访问某些文件夹来计算它们。连接和软链接也可能造成混乱 - Opus 允许你控制是否对它们进行计数，但无论哪种方式都不是“正确”或“错误”，计算大小有时可能会有很大差异。

有时你可能会看到文件夹大小前面显示一个波浪线字符（`~`）。这表示显示的大小只是近似值。出现这种情况可能有两个原因：

- 当正在计算文件夹的大小时，大小字段会逐步更新 - 波浪线表示计算尚未完成
- 波浪线还用于表示文件夹包含一个或多个无法读取的子文件夹（例如，由于权限设置为拒绝读取访问权限）。

请注意，当使用 Everything 来计算文件夹大小时，通常不会看到波浪线，同样有两个原因：

- 计算几乎是瞬间完成的，因此没有渐进更新
- Everything 索引包含一些像 Opus 这样的应用程序通常无法访问的文件夹，因此权限错误的可能性要小得多

由于第二个原因，你可能会通过使用 Everything 计算大小获得与 Opus 使用老式方法计算大小不同的结果。