# 命令编辑器

命令编辑器是 Opus 中创建您自己的[按钮]()、[热键](../the_customize_dialog/keys.zh.md)、[用户自定义命令](/Manual/customize/creating_your_own_buttons/user-defined_commands.zh.md) 和其它函数的主要途径。程序中使用了几种版本的命令编辑器对话框，尽管它们都具有相同的基本设计。

![](/Manual/images/media/command_editor_1.png)   ![](/Manual/images/media/command_editor_2.png)

此屏幕截图显示了命令编辑器的两个变体。左边的变体是标准工具栏按钮的编辑器——被编辑的函数是默认工具栏中的 **查看器窗格** 命令。右边的变体是**新建列表窗口**热键的编辑器。

- **图像**：当命令显示在工具栏或下拉菜单中时，图像设置将用于为该命令显示图像。热键没有图像，因为它们从未在屏幕上物理显示。         
  - **图像**：两个 **图像** 字段让您为按钮定义最多两个图像。第一个图像为主图像；它是最常显示的图像。如果 **双重图像** 选项已启用，则第二个图像字段让您定义当鼠标悬停在按钮上时显示的辅助图像。
  - **显示图像**：启用此功能以显示按钮的图像。这可能会被为工具栏定义的设置覆盖——更多详情见下文。
  - **双重图像**：当鼠标悬停在按钮上时启用此功能以显示辅助图像。
  - **大图像尺寸**：显示大图像，而不是小图像。这可能会被为工具栏定义的设置覆盖——更多详情见下文。
  - **无突出边框**：当鼠标悬停在按钮上时，该按钮将没有边框（框架）。
- **颜色**：您可以为按钮指定文本和背景颜色，这将覆盖工具栏的常规颜色。热键没有颜色字段。  
  \* **标签**：当 **显示标签** 选项已启用时，将在工具栏或菜单中显示按钮的标签。如果按钮也有图像，您可以选择标签相对于图像的位置——例如，选择 *右* 会将标签放置在图像的右侧。这可能会被为工具栏定义的设置覆盖——更多详情见下文。\

如果按钮的标签在字母前有一个和号（**&**）字符，则该字母将被标记为该按钮的一种热键类型。当按钮位于工具栏的顶级时，按下 **Alt** 加该字母将激活该按钮。例如，**文件** 菜单的标签实际上设置为 *&文件*——这意味着您可以按 **Alt+F** 打开文件菜单。如果您想在标签中使用一个实际的和号字符，您必须改用两个和号（**&**）（例如 *备份 && 还原*）。

您还可以使用 **\t** 插入制表符。这可用于菜单中从左侧的主标签分隔其它信息，这些其它信息对齐到右侧。按照惯例，它通常用于显示热键。例如，编辑 > 粘贴 的标签是 *&粘贴\tCtrl+V*，以便帮助您了解您可以使用 Ctrl+V 作为热键。请注意，标签以任何方式不会定义热键（有一个单独的 **热键** 字段用于此目的），并且由您来确保实际热键与标签说明的一致。\

- **提示**：这是当您将鼠标悬停在按钮上时，在弹出工具提示中显示的命令说明。您可以在工具提示中插入一个换行符（因此将其拆分为多行），方法是使用 **\n** 序列。
- **热键**：这允许您为按钮分配一个热键。按下分配的键将激活按钮的功能，如同您单击了它一样。热键字段是一个特殊控件，设计为易于输入按键组合。有关详细信息，请参见有关 [使用热键控件](/Manual/customize/creating_your_own_buttons/command_editor/using_the_hotkey_control.zh.md) 的页面。 
  有两种类型的热键；*本地* 和 *全局*。您为列表窗口工具栏或菜单中的按钮定义的热键是本地热键，仅当列表窗口为活动窗口时才有作用。全局热键在系统中的任何位置（只要 Opus 正在运行）都有作用。依定义，浮动工具栏中的按钮定义的热键是全局的。热键功能的命令编辑器（即，仅仅作为一个热键而不是分配给工具栏按钮的热键存在的功能）允许您使用 **系统级热键** 选项选择本地或全局状态。有关定义热键的更多信息，请参见 [热键](../the_customize_dialog/keys.zh.md) 页面。

  如果您为打开下拉菜单的按钮分配一个热键，则按下该热键将弹出菜单。

- **函数**：这是激活时按钮将运行的实际函数。上面的屏幕截图显示了 *简单* 模式下的对话框，其中函数只能是一行——还有一个 *高级* 模式，它允许您有多行函数。函数可以运行 Opus 内部命令或外部程序。有关定义函数的更多信息，请参见有关 [简单](/Manual/customize/creating_your_own_buttons/command_editor/simple_command_editor.zh.md) 和 [高级](/Manual/customize/creating_your_own_buttons/command_editor/advanced_command_editor.zh.md) 模式的所有页面。
- **开始于**：当命令运行外部程序时，此字段指定程序将开始于的文件夹（换句话说，新程序的当前目录）。对于 Opus 内部命令，此字段未使用。
- **运行**：当运行外部程序时，这允许您指定程序窗口的显示方式。您可以选择 *正常窗口*（程序本身定义窗口大小）、*最小化*（程序将最小化到任务栏打开）、*最大化*（它将全屏打开）和 *隐藏*（它根本不会显示一个窗口）。并非所有程序都将遵循这些设置。您需要小心使用 *隐藏*，因为它会导致程序在没有任何可见用户界面情况下运行——您应该仅在明确知道确需如此时使用它。它在启动一个快速运行又快速退出的 DOS 脚本时最有帮助，因为它允许您隐藏 DOS 命令提示符的快速“闪烁”。

命令编辑器中的一些选项可以被按钮所在工具栏的设置覆盖—— **显示图像**、**大图像尺寸** 和 **显示标签** 选项都可以被 [自定义](/Manual/customize/README.zh.md) 对话框中的 **[工具栏](../the_customize_dialog/toolbars.zh.md)** 标签页上的 **图像和标签** 设置中的选项覆盖。

底部的 **高级** 按钮允许您从 [简单](/Manual/customize/creating_your_own_buttons/command_editor/simple_command_editor.zh.md) 切换到 [高级](/Manual/customize/creating_your_own_buttons/command_editor/advanced_command_editor.zh.md) 模式。

更多信息：

[简单命令编辑器](/Manual/customize/creating_your_own_buttons/command_editor/simple_command_editor.zh.md)  
[高级命令编辑器](/Manual/customize/creating_your_own_buttons/command_editor/advanced_command_editor.zh.md)
[使用热键控制](/Manual/customize/creating_your_own_buttons/command_editor/using_the_hotkey_control.zh.md)